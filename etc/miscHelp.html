<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Enstore Miscellaneous Status Help</title>
  </head>

  <body BACKGROUND="enstore.gif" TEXT="#000066">
    <center><h1>Enstore Miscellaneous Status Help</h1></center>
    <h1>Overview</h1>
The Enstore Miscellaneous Status page, provides links to results of user specified commands 
executed by the Inquisitor within the Enstore framework.  These commands are specified as 
part of a Python dictionary with a keyword of <B>update_commands</B>, in the 
<A HREF="config_enstore_system.html#inquisitor">inquisitor section</A> of the configuration
file. 
<P>
An example of the value of <B>update_commands</B> is -<BR><BR>

{'enstore_node_uptimes.html':'/usr/local/bin/getnodeinfo'}
<BR><BR>
where the first element is a filename and it's value is the command to execute.

    <h1>Miscellaneous Status Output</h1>
Periodically, the Inquisitor will execute each listed command, piping the output to the file
name associated with the command.  This file will be created in the Enstore web directory
specified by the <B>html_file</B> keyword in the 
<A HREF="config_enstore_system.html#inquisitor">inquisitor section</A> of the 
configuration file. 
A link to this file is then included on the Enstore Miscellaneous
Status page, using the name of the file as the text and listing its creation date.  So the 
example given above would result in an entry that looked like -<BR><BR>
<TABLE border="1" cellpadding="3" cellspacing="5" bgcolor="#DFF0FF">
<TR><TD><FONT size="+2"><A HREF="/the/www/directory/enstore_node_uptimes.html">enstore_node_uptimes.html</A></TD><TD>2000-May-09 12:03:04</TD></TR>
</TABLE>


    <h1>Directories Created For Currently Running Miscellaneous Processes</h1>
Since it is unknown for how long a user specified command will run, the Inquisitor creates a
directory when the command is started, in the home ($HOME/MISC) directory of the user that started the Inquisitor
(usually <I>enstore</I>).  If the command finishes successfully, the
directory is deleted.  However, if the command hangs, the directory will remain as a flag
that something is wrong.
The Inquisitor will not execute the command again, if the last command has not successfully
finished and deleted the directory.  Any commands that are currently running, will have the
Inquisitor created directory listed in this section of the Enstore Miscellaneous Status page.
Thus, while the command in our example is running,
there will be a line in this section that looks like -<BR><BR>

<TABLE border="1" cellpadding="3" cellspacing="5" bgcolor="#DFF0FF">
<TR><TD>/home/enstore/MISC/usrlocalbingetnodeinfo</TD><TD>2000-May-09 14:38:21</TD></TR>
</TABLE>
<BR>
Notice that the name of the created directory is the command that was executed with all of
the non-ASCII/numeric characters removed.

    <h1>A Hung Miscellaneous Command</h1>
The information on the Enstore Miscellaneous Status page can be used to determine if a 
user specified command is hung.  A hung command will exhibit two symptoms -
<ul>
<li>the creation date listed for the command under Miscellaneous Status, will be old
<li>there will be an entry in the Directories table mentioned above, showing that the 
command started but never finished
</ul>

<HR><a href="http://www.fnal.gov/pub/disclaim.html">Legal Notices</a>
    <hr>
<!-- Created: Tue May  9 11:01:16 CDT 2000 -->
<!-- hhmts start -->
Last modified: Tue Aug  1 08:57:35 CDT 2000
<!-- hhmts end -->
  </body>
</html>
