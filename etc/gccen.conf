#!/usr/bin/env python

# $Id $

KB=1024L
MB=KB*KB
GB=KB*MB
TB=KB*GB
PB=KB*TB
EB=KB*PB

dlt_rate =     5.1 * MB
lto3_rate =   27.0 * MB
null_rate =   11.5 * MB

legal_encp_version = 'v3_6c'

mvr_check_f = 100
mvr_check_1st = 0

mvr_max_failures=5
mvr_max_consecutive_failures=3
max_buf=2500*MB
min_buffer = 64*MB
vol_max_noaccess_cnt=4
blank_error_increment = 0

low_level_diag_pattern = 'st[0-9]' # pattern to look in syslog file when FTT_EIO occurs
lto3_min_buffer = 64*MB
lto3_max_buffer = 2500*MB
lto3_mvr_check_f = 10
lto3_mvr_check_1st = 0
crc_seed = 0

monitoring_and_web="gccensrv1.fnal.gov"
enstore_DB="gccensrv1.fnal.gov"
enstore_backup="gccensrv2.fnal.gov"
enstore_library="gccensrv2.fnal.gov"
enstore_pnfs="gccensrv2.fnal.gov"
enstore_DB_host=enstore_DB
backup_host=enstore_backup
web_server_host=monitoring_and_web
log_server_host=monitoring_and_web
alarm_server_host=monitoring_and_web
ratekeeper_host=monitoring_and_web
event_relay_host=monitoring_and_web
inquisitor_host=monitoring_and_web
DB_host=enstore_DB_host
file_clerk_host=enstore_DB_host
volume_clerk_host=enstore_DB_host
info_server_host=enstore_DB_host
accounting_server_host=enstore_DB_host
drivestat_host=enstore_DB_host

html_dir = "/local/ups/prd/www_pages/enstore/"
log_dir = "/diska/enstore-log"

configdict = {}

configdict['encp']={'crc_seed' : crc_seed }

configdict['known_config_servers'] = {'d0en'  : ('d0ensrv2.fnal.gov',7500),
				      'cdfen' : ('cdfensrv2.fnal.gov',7500),
				      'stken' : ('stkensrv2.fnal.gov',7500),
				      'gccen'   : ('gccensrv1.fnal.gov',7500),
				      }

configdict['system'] = { 'allowed_down' : {'log_server' :           [1, 10],
					   'alarm_server' :         [1, 10],
					   'configuration_server' : [1, 10],
					   'file_clerk' :           [1, 10],
					   'inquisitor' :           [3, 30],
					   'volume_clerk' :         [1, 10],
					   'library_manager' :      [2, 20],
					   'accounting_server' :    [3, 20],
					   'drivestat_server' :     [3, 20],
					   'info_server' :          [3, 20],
					   'media_changer' :        [2, 10],
					   'default' :              [1, 20] }}


configdict['priority'] = {
    }

configdict['discipline'] = {
    'LTO3.library_manager':{'gcc':{1:{'keys':{'host':"gccenmvr1a"},
                                      'function':'restrict_host_access',
                                      'args':['auger','gccenmvr1a',3],
                                      'action':'ignore'},
                                   2:{'keys':{'host':"gccenmvr2a"},
                                      'function':'restrict_host_access',
                                      'args':['auger','gccenmvr2a',2],
                                      'action':'ignore'},
                                   },
                            }
    }

configdict['blocksizes'] = { 'LTO3'      : 131072,
			     'null'      : 131072 }

configdict['common_blank_low'] = { 'warning': 50, 'alarm': 10 }

configdict['wrappersizes'] = { 'null' : (100L*GB) - 1,
			       'cern' : long("9"*20),
			       'cpio_odc' : (8L*GB) - 1 }

configdict['database']     = {  'db_dir':'/diska/enstore-database',
				'jou_dir':'/diska/enstore-journal',
				'db_host':'gccensrv1.fnal.gov',
				'dbname':'enstoredb',
				'db_port':8888,
				'dbhost': 'gccensrv1.fnal.gov',
				'dbport': 8888,
				'dbuser': 'enstore',
				'dbserverowner': 'products',
				'dbarea':'/diska/enstore-db'}

configdict['backup']       = {
    'host':'gccensrv2.fnal.gov',
    'dir':'/diska/enstore-backup',
    'extract_dir':'/diska/check-db-tmp' }

configdict['domains']      = {
    'invalid_domains' : [],
    'valid_domains'   : [],
    }

#This is Fermilab specific.
configdict['service_ips'] = {
    'www-gccen'  : "gccensrv1.fnal.gov",
    'pnfs-gccen' : "gccensrv2.fnal.gov",
    'conf-gccen' : "gccensrv1.fnal.gov",
    }

configdict['crons'] = {
    'html_dir'        : html_dir,
    'log_dir'         : log_dir,
    'tmp_dir'         : "/tmp",
    'email'           : "enstore-auto@fnal.gov",
    'developer_email' : "moibenko@fnal.gov,zalokar@fnal.gov,huangch@fnal.gov,litvinse@fnal.gov",
    }

#If the following items match an enstore server's name, then a host
# specified here is not necessary.  It is taken from that servers host
# value.  If it is not a server's name, then you must put a host
# entry here.
configdict['crontabs'] = {
    'log_server'        : {'cronfiles' : ["log_server",
                                          "log_html"]},
    'web_server'        : {'cronfiles' : ["enstore_plots",
                                          "inventory",
                                          "inventory.fermi",
                                          "enstore_html",
                                          "enstore_plots",
                                          ],
                           'host'      : monitoring_and_web},
    'monitoring'        : {'cronfiles' : ["checkPNFS",
                                          "copy_ran_file"],
                           'host'      : "gccensrv1.fnal.gov"},
    'pnfs'              : {'cronfiles' : ["delfile"],
                           'host'      : enstore_pnfs},
    'accounting_server' : {'cronfiles' : ["accounting_db"]},
    'drivestat_server'  : {'cronfiles' : ["drivestat_db"]},
    'file_clerk'        : {'cronfiles' : ["enstore_db"]},
    'databases'         : {'cronfiles' : ["backup"],
                           'host'      : enstore_backup},
    }	   


configdict['inventory']    = {
    'inventory_dir'		: '/diska/db-inventory',
    'inventory_tmp_dir'	        : '/diska/db-inventory/tmp',
    'inventory_cache_dir'	: '/diska/db-inventory_cache',
    'inventory_extract_dir'	: '/diska/db-inventory/extract',
    'inventory_rcp_dir'	        : 'gccensrv1:%s/tape_inventory' % (html_dir,),
    'wpa_states'		: ["full", "readonly"],
    'wpa_media_types'	        : ["LTO3"],
    'wpa_excluded_libraries'	: ["null1", "disk", "test"],
    }

# tape mount limits according to media type
# when mounts exceed the first number, an alarm should be generated
# when it exceeds the second number, enstore ball should be turned red
#
# ignore any media type that is not mentioned
configdict['tape_mount_limit'] = {
	'LTO3':    (2000, 5000),
	}

configdict['web_server'] = {
    'ServerHost'     : 'gccensrv1.fnal.gov',
    'port'           : 80,
    'User'           : 'enstore',
    'Group'          : 'enstore',
    'ServerName'     : 'www-gccen.fnal.gov',
    'DocumentRoot'   : '/local/ups/prd/httpd/servers/gccen/html',
    'ScoreBoardFile' : '/var/adm/www/gccen/apache_status',
    'PidFile'   : '/var/adm/www/gccen/httpd.pid',
    'ErrorLog'  : '/var/adm/www/gccen/error.log',
    'CustomLog' : { 'combined' : '/var/adm/www/gccen/access.log',
                    'referer'  : '/var/adm/www/gccen/referer.log',
                    'agent'    : '/var/adm/www/gccen/agent.log'
                    },
    'ServerRoot' : '/etc/httpd' ,
    'ScriptAlias' : {'fake' : '/cgi-bin/',
                     'real' : '/local/ups/prd/httpd/servers/gccen/cgi-bin/'
                     }
    }

configdict['ratekeeper'] = {
    'host'		: 'gccensrv1',		#node ratekeeper is running on
    'port'		: 55511,		#port ratekeeper is running on
    #'event_relay_host'	: 'gccensrv1.fnal.gov',	#node event relay is running on
    'norestart'		: 'INQ',
    'noupdown'		: 'efb',
    'logname'		: 'RATSRV',		#logname
    'dir'		: '/diska/ratekeeper/',	#directory to write rates to
    'tmp'		: '/diska/ratekeeper/tmp/',  #temp directory used
    #'nodes'		: {},
    'ps'		: '%s/*rates.ps' % (html_dir,),
    'jpg'		: '%s/*rates.jpg' % (html_dir,),
    'stamp'		: '%s/*rates_stamp.jpg' % (html_dir,),
    }


configdict['event_relay']  = {
    'host':'gccensrv1',
    'port':55510 }

configdict['file_clerk']   = {
    'host':'gccensrv1',
    'port':7501,
    'logname':'FILSRV',
    'norestart':'INQ',
    'brand':'CDMS', }

configdict['volume_clerk'] = {
    'host':'gccensrv1',
    'port':7502,
    'logname':'VOLSRV',
    'norestart':'INQ',
    'max_noaccess_cnt' : vol_max_noaccess_cnt }

configdict['alarm_server'] = {
    'host':'gccensrv1',
    'port':7503,
    'logname':'ALMSRV',
    'norestart':'INQ', }

configdict['log_server']   = {
    'host':'gccensrv1',
    'port':7504,
    'norestart':'INQ',
    'msg_type_logs': {'MSG_TYPE=MC_LOAD_REQ' : 'MOUNTS-',
		      'MSG_TYPE=MC_LOAD_DONE' : 'MOUNTS-',
		      'MSG_TYPE=ENCP_XFER' : 'ENCPS-',
		      'MSG_TYPE=EVENT_RELAY' : 'EVRLY-',
		      'MSG_TYPE=ADD_TO_LMQ' : 'LMQADDS-'},
    'log_file_path' : log_dir,
    }

configdict['accounting_server'] = {
    'host': 'gccensrv1',
    'port': 7580,
    'logname': 'ACCSRV',
    'norestart':'INQ',
    'dbhost': 'gccensrv1.fnal.gov',
    'dbport': 8800,
    'dbname': 'accounting',
    'dbuser': 'enstore',
    'dbserverowner': 'products',
    'dbarea': '/diska/accounting-db'}

configdict['drivestat_server'] = {
    'host': 'gccensrv1',
    'port': 7590,
    'logname': 'DRSSRV',
    'norestart':'INQ',
    'dbhost': 'gccensrv1.fnal.gov',
    'dbport': 8802,
    'dbname': 'drivestat',
    'dbuser': 'enstore',
    'dbserverowner': 'products',
    'dbarea': '/diska/drivestat-db'}

configdict['info_server'] = {
    'host': 'gccensrv1',
    'port': 7777,
    'logname': 'INFSRV',
    'norestart':'INQ',
    'dbhost': 'gccensrv1.fnal.gov',
    'dbname': 'enstoredb'}

configdict['inquisitor']   = {
    'host':'gccensrv1',
    'port':7505,
    'logname':'INQSRV',
    'alive_rcv_timeout': 15,
    'alive_retries':1,
    'refresh' : 3600,
    'html_file':html_dir,
    'http_log_file_path':'/enstore/log/',
    'www_host':'http://gccensrv1.fnal.gov',
    'max_encp_lines': 250,
    'user_log_dirs' : {'GCCen Cluster Console Logs'	: '/enstore/CONSOLES.html',
                       'GCCen Cluster Node Info'	: '/enstore/nodeinfo.html',
                       'GCCen Cluster SDR Info'	: '/enstore/SDR.html',
                       'GCCen Cluster SEL Info'	: '/enstore/SEL.html',
                       'GCCen Internode Rates'	: '/enstore/quickcheck.eepro100.html',
                       'GCCen UDP Clogup Info'	: '/enstore/UDPclog.html',
                       'GCCen Tape Drives'		: '/enstore/firmware_stat_report.gccensrv1.fnal.gov.html',
                       'Active Monitor Log'		: '/enstore/active_monitor.html',
                       'Network-At-A-Glance'		: '/enstore/enstore_saag_network.html',
                       'FAILED Transfers'		: '/enstore/log/transfer_failed.txt ',
                       'Recent GCC log messages'	: '/enstore/log/GCC-log.html ',
                       'Recent STK log messages'        : '/enstore/log/STK-log',
                       'Recent SL8500 log messages'     : '/enstore/log/SL8500-log',
                       },
    'default_alive_interval': 40,
    'default_hung_interval' : 120,
    }

configdict['monitor_server'] = {
    'html_dir'		: html_dir,
    'html_gen_host'	: 'gccensrv1',
    'refresh'		: 3600,
    'block_size'	: 65536,
    'block_count'	: 160,
    'default_timeout'	: 3,
    }

configdict['www_server'] = {
    'system_tag' : "GCCEN: New Library Test System",
    'media' : {'1' : 'GCC SL8500',
               },
    'inq_ignore' : 1,
    }

"""
configdict['other_saag_links'] = { 'dcache_cd'   : ['CD dCache', 'http://fndca.fnal.gov/'],
				   'dcache_cms'  : ['CMS dCache', 'http://cmsdca.fnal.gov/'],
				   'dcache_lqcd' : ['LQCD dCache', 'http://lqcddca.fnal.gov/'],
				   }
"""

configdict['null1.library_manager']     =  {
    'host':'gccensrv2', 'port':7511,
    'logname':'NULLBM',
    'norestart':'INQ',
    'noupdown':'jon',
    'inq_ignore':'jon',
    'max_encp_retries':3,
    'max_file_size':(8L*GB) - 1,
    'suspect_volume_expiration_time':2,
    'legal_encp_version':'v3_3',
    'allow': {'NULL00':['gccensrv*'],
              },
    }

configdict['LTO3.library_manager']      =  {
    'host':'gccensrv2', 'port':7515,
    'logname':'LTO3_T',
    'norestart':'INQ',
    'noupdown':'AM',
    'max_encp_retries':3,
    'max_suspect_movers':3,
    'max_file_size':(400L*GB) - 1,
    'min_file_size':300*MB,
    'suspect_volume_expiration_time':3600*24,
    'legal_encp_version':'v3_3',
    'storage_group_limits':{'cms' : 3,
                            },
    'CleanTapeVolumeFamily': 'CLEAN.CleanTapeFileFamily.noWrapper',
    'blank_error_increment':blank_error_increment,
    }

configdict['null1.media_changer']    = {
    'host':'gccensrv2',
    'port':7520,
    'logname':'NUL1MC',
    'type':'RDD_MediaLoader',
    'norestart':'INQ',
    'noupdown':'jon',
    'inq_ignore':'jon',
    }

configdict['SL8500.media_changer']      = {
    'host':'gccensrv2', 'port':7523,
    'logname':'SL8500MC ',
    'type':'STK_MediaLoader',
    'norestart':'INQ',
    'acls_host':'fntt-gcc',
    'acls_uname':'acsss',
    'DriveCleanTime':{'LTO3':[60,1],},
    'tape_library':"SL8500 at GCC",
    }

#configdict['CDF8500.media_changer']  = {
#    'host':'gccensrv2', 'port':7524,
#    'logname':'CDF8500MC ',
#    'type':'STK_MediaLoader',
#    'norestart':'INQ',
#    'acls_host':'fntt-gcc',
#    'acls_uname':'acsss',
#    'DriveCleanTime':{'LTO3':[60,1],},
#    }


configdict['null01.mover'] = {
    'host':'gccenmvr1a',
    'data_ip':'gccenmvr1a',
    'port':7538,
    'logname':'NUL01MV',
    'norestart':'INQ',
    'noupdown':'efb',
    'inq_ignore' : 'jon',
    'max_buffer':max_buf,
    'library':'null1.library_manager',
    'device':'/dev/null',
    'driver':'NullDriver',
    'mc_device':'-1',
    'media_changer':'null1.media_changer',
    'update_interval':2,
    }

configdict['null02.mover'] = {
    'host':'gccenmvr2a',
    'data_ip':'gccenmvr2a',
    'port':7539,
    'logname':'NUL02MV',
    'norestart':'INQ',
    'noupdown':'efb',
    'inq_ignore' : 'jon',
    'max_buffer':350*MB,
    'library':'null1.library_manager',
    'device':'/dev/null',
    'driver':'NullDriver',
    'mc_device':'-1',
    'media_changer':'null1.media_changer',
    'update_interval':2
    }


configdict['LTO3_20.mover'] = {
    'host':'stkenmvr120a',
    'data_ip':'stkenmvr120a',
    'port':7820,
    'logname':'LTO20MV',
    'statistics_path':'/tmp/enstore/enstore/LTO3_20.stat',
    'norestart':'INQ',
    'noupdown':'MZ',
    'inq_ignore' : 'MZ',
    'max_consecutive_failures': mvr_max_consecutive_failures,
    'max_failures': mvr_max_failures,
    'compression':0,
    'check_written_file': lto3_mvr_check_f,
    'check_first_written_file':lto3_mvr_check_1st,
    'max_buffer':lto3_max_buffer,
    'max_rate': lto3_rate,
    'mount_delay':15,
    'update_interval':5,
    'library':'LTO3.library_manager',
    'device':'/dev/rmt/tps4d0n',
    #'device':'/dev/nst0',
    'driver':'FTTDriver',
    'mc_device':'0,3,1,15',
    'media_changer':'SL8500.media_changer',
    'do_cleaning':'No',
    'syslog_entry':low_level_diag_pattern,
    'max_time_in_state':1200,
    'send_stats':1,
    }

configdict['GCC-9940B.library_manager'] = {
    'host':'gccensrv2',
    'port':7822,
    'logname':'9940BLM',
    'norestart':'INQ',
    'noupdown':'web',
    #'inq_ignore':'web',
    'max_encp_retries':3,
    'norestart':'INQ',
    'max_file_size':(200L*GB) - 1,
    'min_file_size':100*MB,
    'suspect_volume_expiration_time':3600*24,
    'legal_encp_version':legal_encp_version,
    }

configdict['stk.media_changer']      = {
    'host':'gccensrv2', 'port':7525,
    'logname':'STKMC ',
    'type':'STK_MediaLoader',
    'norestart':'INQ',
    'max_work':4,			# d0en and stken have to share fntt
    'acls_host':'fntt',
    'acls_uname':'acsss',
    'DriveCleanTime':{'9940':[60,1],
                      '9940B':[60,1]},
    }

configdict['9940B28.mover'] = {
    'host':'d0enmvr28a',
    'data_ip':'d0enmvr28a',
    'port':7615,
    'logname':'DBT28MV',
    'statistics_path': '/tmp/enstore/enstore/DBT28MV.stat',
    'norestart':'INQ',
    'max_consecutive_failures': mvr_max_consecutive_failures,
    'max_failures': mvr_max_failures,
    'compression':0,
    'check_written_file': 30,
    #'max_buffer':1300*MB,
    'max_buffer':1000*MB,
    'max_rate': 27.0 * MB,
    'mount_delay':15,
    'max_dismount_delay':30,
    'dismount_delay':30,
    'update_interval':5,
    #'library':'D0-9940B.library_manager',
    'library':'GCC-9940B.library_manager',
    'device':'/dev/rmt/tps2d0n',
    'driver':'FTTDriver',
    'mc_device':'1,0,10,10',
    'media_changer':'stk.media_changer',
    'do_cleaning':'No',
    'syslog_entry':low_level_diag_pattern,
    'send_stats':1,
    }

configdict['aml2.media_changer']     = {
    'host':'gccensrv2',
    'port':7524,
    'logname':'AML2MC',
    'type':'AML2_MediaLoader',
    'norestart':'INQ',
    'RobotArm':'Both', #'R1', #'R2',
    'IdleTimeHome':30000000,
    'DriveCleanTime':{'DE':[60,1],'DC':[60,1],'DM':[60,1],'D3':[120,2]},
    'IOBoxMedia':{'ACI_8MM':['E01','E08'], 'ACI_LTO':['E03','E05','E06'],
                  'ACI_DECDLT':['E02','E04','E07']},
    }

"""

priority: OPTIONAL. If present specifies the request priority settings for a
Library Manager based on the ticket keys and regular expressions. For details
please contact developer or look in the priority.py code.

----------------------------------------------------------------
discipline: OPTIONAL. If present specifies the restictions set for the request
for a Library Manager based on the ticket keys and regular expressions. For
details please contact developer or look in the discipline.py code.

----------------------------------------------------------------
LIBRARY MANAGER KEYS

host (string) REQUIRED

port (int) REQUIRED

logname (string) OPTIONAL - defaults to mover name

startup_delay: (int) OPTIONAL Time during which LM ignores mover requests after startup.
	       Default 32

min_file_size: (int or long) OPTIONAL. Minimal file size when requesting volume clerk for
	       the volume to write to. Default 0L

max_file_size: (int or long) OPTIONAL. Maximal file size allowed for the media served by
	       this LM. Default 2*GB - 2*KB

legal_encp_version: (string) OPTIONAL. the oldest allowed encp version. All others will be rejected.
		    Default ''

suspect_volume_expiration_time: (int) OPTIONAL. Time after which becomes cleared.
				Default None

rq_wait_time: (int) OPTIONAL. Recreate postponed request list after this time expires.
	      Default 3600 s

CleanTapeVolumeFamily: (string) OPTIONAL volume family for the cleaning tape. Used by Media Changer.
		       No default

storage_group_limits: minimal amount of drives that can be used by a certain storage group (fair share)
		      when different storage groups compete for tape drives.

-------------------------------------------------------------------

MOVER KEYS

These are all the keys that the mover cares about:

host (string) REQUIRED

port (int) REQUIRED

logname (string) OPTIONAL - defaults to mover name

do_eject (string) OPTIONAL - defaults to 'yes', override by setting
		  "no" or "No" (or anything starting with N or n)

do_cleaning (string) OPTIONAL - defaults to 'yes', override by setting
		     "no" or "No" (or anything starting with N or n)
		     This only controls automatic cleaning.  enstore mov --clean-drive
		     will always work, whether this is set or not.

mc_device (string) not needed for NULL movers; required otherwise

min_buffer (int)  OPTIONAL minimum amount of memory to allocate for
		  buffering - defaults to 8MB

max_buffer (int)  OPTIONAL maximum amount of memory to allocate for
		  buffering - defaults to 64MB

max_rate (float) OPTIONAL maximum sustained transfer rate for writes
		 This is used to calculate optimal buffer size.  It does not need to
		 be exact.

device (string) REQUIRED pathname to the UNIX tape device
		for NULL movers make this /dev/null

dismount_delay (int) OPTIONAL delayed dismount value to use when none
		     specified by the client. Default is 60 seconds.
		     Set to negative value to get "infinite" dismount
		     delay.

mount_delay (int) OPTIONAL number of seconds to wait after media
		  changer mount completes, before trying to open
		  device. Default is 15 for FTT driver, 0 for NULL
		  driver

max_dismount_delay: (int s) OPTIONAL maximal dismount delay that can be set for this mover.
			    Default 600 seconds

library (string or list):  REQUIRED.  Who are we working for?  One or
			   more library manager names.

driver (string): REQUIRED.  Currently must be 'FTTDriver' or
		 'NullDriver', or else mover will complain at startup.
		 If we need a disk mover, this would be easy to hack
		 together; doesn't seem too useful though.

max_consecutive_failures: type int, default 2
			  Mover will declare itself "broken" if this
			  many successive transfers fail, and the
			  error was not ENCP_GONE

max_failures: type int, default 3
	      Mover will declare itself "broken" if this many
	      transfers fail within failure_interval (see below).
	      Again, ENCP_GONE errors do not count

failure_interval: type int, default 3600 (one hour)
		  Interval for above.

send_stats: OPTIONAL if present (can be set to 1) send drive statistics to the drivestat Data Base

type: (string) OPTIONAL type of the mover ('','Mover','DiskMover') specifies the type of mover

ip_map: (string) OPTIONAL ip map of the mover node. Used only in Disk Mover to create a volume name

media_type: (string) OPTIONAL media type used for the mover

log_state: (int) OPTIONAL if set log the state of the mover processes

syslog_entry: (string) OPTIONAL expression to match in the syslog for the low level failure diagnostics

restart_on_error: (int) restart mover if it went to the ERROR state. Default - not restart

connect_timeout (sec) TO for mover connection to encp. Default - 15 s

connect_retries (int) number of connect retries. Default 4

update_interval: (int s) OPTIONAL interval for the mover to ask LM for the work. Default 15 s

single_filemark: (int) OPTIONAL if not 0 write single file mark. Default 0 - write 2 fm

check_written_file: (int) OPTIONAL if more than 0 randomly check written file using randomization of
			  this number. Default 0 - no check. 1 - check every written file.

max_time_in_state: (int s) OPTIONAL time in state after which alarm will be raised. Default 600 s

max_in_state_cnt: (int) OPTIONAL if this counter expires Mover errors out with Mover stuck message.
			Default 3

statistics_path: (string): OPTIONAL. If specified write the last statistics to the file statistics_path.
			   Default None

compression: (int) OPTIONAL 0 means no compression. Everything else means use the drive compression.
		   Default None - use the drive compression

get_remaining_from_stats (optional) : get remaining bytes info from drive

"""
