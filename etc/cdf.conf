#!/usr/bin/env python

# $Id$

KB=1024L
MB=KB*KB
GB=KB*MB
TB=KB*GB
PB=KB*TB
EB=KB*PB

ait1_rate =    2.7 * MB
mam1_rate =    2.8 * MB
dlt_rate =     5.1 * MB
s9840_rate =  10.5 * MB
s9940_rate =  10.5 * MB
s9940b_rate = 27.0 * MB
lto_rate =    15.0 * MB
lto2_rate =   27.0 * MB
ait2_rate =    9.5 * MB
mam2_rate =   11.5 * MB
null_rate =   11.5 * MB

#mvr_check_f = 1
mvr_check_f = 20
#b_mvr_check_f = 1
#b_mvr_check_f = 20
b_mvr_check_f = 100
b_mvr_check_1st = 1

dismount_delay = 47
dismount_9940b_delay = 47
max_dismount_delay = 300
max_dismount_9940b_delay = 300

mvr_max_failures=5
mvr_max_consecutive_failures=3

max_in_state_cnt=24 # for movers to not error out when recovering MIR

vol_max_noaccess_cnt=4

low_level_diag_pattern = 'st[0-9]' # pattern to look in syslog file when FTT_EIO occurs

configdict = {}

configdict['known_config_servers'] = {'d0en'  : ('d0ensrv2.fnal.gov',7500),
				      'cdfen' : ('cdfensrv2.fnal.gov',7500),
				      'stken' : ('stkensrv2.fnal.gov',7500),
#				      'rip'   : ('rip7.fnal.gov',7500),
				      }

configdict['system'] = { 'allowed_down' : {'log_server' :           [1, 10],
					   'alarm_server' :         [1, 10],
					   'configuration_server' : [1, 10],
					   'file_clerk' :           [1, 10],
					   'inquisitor' :           [3, 30],
					   'volume_clerk' :         [1, 10],
					   'library_manager' :      [2, 20],
					   'accounting_server' :    [3, 20],
					   'drivestat_server' :     [3, 20],
					   'info_server' :          [3, 20],
					   'media_changer' :        [2, 10],
					   'default' :              [1, 20] }}

configdict['quotas'] = {'enabled' : 'no', }

configdict['priority'] = {
    'cdf.library_manager':{'adminpri':{2:
				       {'host':'fcdfsgi1',
					'uname':'stager',
					},
				       3:
				       {'uname':'zalokar',
					},
				       5:
				       {'host':'cdfensrv3',
					'uname':'enstore',
					},
				       }
			   },
    'CDF-9940B.library_manager':{'adminpri':{2:
					     {'host':'fcdfsgi1',
					      'uname':'stager',
					      },
					     3:
					     {'uname':'zalokar',
					      },
					     5:
					     {'host':'cdfensrv3',
					      'uname':'enstore',
					      },
					     },
				 'basepri':{40:{'host':'fncdfsrv[1-8]',
						'uname':'sam',
						},
					    },
				 },
    }

configdict['discipline'] = {
    'CDF-9940B.library_manager':{'cdf':{1:{'keys':{'host':"fcdfsgi1"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fcdfsgi1",3],
					   'action':'ignore'},
					2:{'keys':{'host':"fncdfsrv[1-4]"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fncdfsrv[1-4]",1],
					   'action':'ignore'},
					3:{'keys':{'host':"fncdfsrv[5-6]"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fncdfsrv[5-6]",2],
					   'action':'ignore'},
					31:{'keys':{'host':"fncdfsrv[7-8]"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fncdfsrv[7-8]",1],
					   'action':'ignore'},
					4:{'keys':{'host':"fcdfdata0[0-9][0-9]"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fcdfdata0[0-9][0-9]",1],
					   'action':'ignore'},
					41:{'keys':{'host':"fcdfdata1[0-1][0-9]"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fcdfdata1[0-1][0-9]",2],
					   'action':'ignore'},
					42:{'keys':{'host':"fcdfdata12[0-8]"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fcdfdata12[0-8]",2],
					   'action':'ignore'},
					43:{'keys':{'host':"fcdfdata129"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fcdfdata129",3],
					   'action':'ignore'},
					44:{'keys':{'host':"fcdfdata1[3-9][0-9]"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fcdfdata1[3-9][0-9]",3],
					   'action':'ignore'},
					5:{'keys':{'host':"fncdf([78][0-9]|2[0-9][0-9])"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fncdf([78][0-9]|2[0-9][0-9])",1],
					   'action':'ignore'},
					6:{'keys':{'host':"fcdflnx[2-9]"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fcdflnx[2-9]",1],
					   'action':'ignore'},
					7:{'keys':{'host':"fcdfcaf055"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fcdfcaf055",1],
					   'action':'ignore'},
					8:{'keys':{'host':"fcdfcaf30[1-5]"},
					   'function':'restrict_host_access',
					   'args':['cdf',"fcdfcaf30[1-5]",1],
					   'action':'ignore'},
					},
				  },
    }

configdict['blocksizes'] = { '8MM'       : 131072,
			     'DECDLT'    : 131072,
			     '9840'      : 131072,
			     '9940'      : 131072,
			     '9940B'     : 131072,
			     'null'      : 131072 }

configdict['wrappersizes'] = { 'null' : (100L*GB) - 1,
			       'cern' : long("9"*20),
			       'cpio_odc' : (8L*GB) - 1 }

configdict['database']     = { 'db_dir':'/diskb/enstore-database', 'jou_dir':'/diska/enstore-journal',
			       'db_host':'cdfensrv0.fnal.gov', 'dbname':'enstoredb', 'db_port':8888 }

configdict['domains']      = {
    'invalid_domains' : [],
    'valid_domains'   : ['140.221.183'],
    }

configdict['inventory']    = { 'inventory_dir'		: '/diskc/db-inventory',
			       'inventory_tmp_dir'	: '/diskc/db-inventory/tmp',
			       'inventory_cache_dir'	: '/diskc/db-inventory_cache',
			       'inventory_extract_dir'	: '/diskc/db-inventory/extract',
			       'inventory_rcp_dir'	: 'cdfensrv2:/fnal/ups/prd/www_pages/enstore/tape_inventory',
			       'wpa_states'		: ["full", "readonly"],
			       'wpa_media_types'	: ["9940", "9940B"],
			       'wpa_excluded_libraries'	: ["null", "test", "TST-9940B"]}

# tape mount limits according to media type
# when mounts exceed the first number, an alarm should be generated
# when it exceeds the second number, enstore ball should be turned red
#
# ignore any media type that is not mentioned
configdict['tape_mount_limit'] = {
	'8MM':    (2000, 5000),
	'9840':   (2000, 5000),
	'9940':   (2000, 5000),
	'9940B':  (2000, 5000),
	'DECDLT': (2000, 5000)}

configdict['ratekeeper'] = {
    'host'		: 'cdfensrv2',			#node ratekeeper is running on
    'port'		: 55511,			#port ratekeeper is running on
    'event_relay_host'	: 'cdfensrv2.fnal.gov',		#node event relay is running on
    'norestart'		: 'INQ',
    'noupdown'		: 'efb',
    'logname'		: 'RATSRV',			#logname
    'dir'		: '/diska/ratekeeper/',		#directory to write rates to
    'tmp'		: '/diska/ratekeeper/tmp/',	#temp directory used
    'nodes'		: {},
    'ps'		: '/local/ups/prd/www_pages/enstore/*rates.ps',
    'jpg'		: '/local/ups/prd/www_pages/enstore/*rates.jpg',
    'stamp'		: '/local/ups/prd/www_pages/enstore/*rates_stamp.jpg'}

# too many name server failures - use the numeric ip -  131.225.215.5 is cdfensrv3
configdict['backup']       = {
    'host':'131.225.215.5',
    'dir':'/diska/enstore-backup',
    'extract_dir':'/diska/check-db-tmp' }

configdict['event_relay']  = {
    'host':'cdfensrv2',
    'port':55510 }

configdict['file_clerk']   = {
    'host':'cdfensrv0',
    'port':7501,
    'logname':'FILSRV',
    'norestart':'INQ',
    'brand':'B0MS', }

configdict['volume_clerk'] = {
    'host':'cdfensrv0',
    'port':7502,
    'logname':'VOLSRV',
    'norestart':'INQ',
    'max_noaccess_cnt' : vol_max_noaccess_cnt }

configdict['alarm_server'] = {
    'host':'cdfensrv2',
    'port':7503,
    'logname':'ALMSRV',
    'norestart':'INQ',
    'alarm_actions' : {'C' : [['send_mail', '*', 'cdfdh_oper@fnal.gov'],]}, }

configdict['log_server']   = {
    'host':'cdfensrv2',
    'port':7504,
    'norestart':'INQ',
    'msg_type_logs': {'MSG_TYPE=MC_LOAD_REQ' : 'MOUNTS-',
		      'MSG_TYPE=MC_LOAD_DONE' : 'MOUNTS-',
		      'MSG_TYPE=ENCP_XFER' : 'ENCPS-',
		      'MSG_TYPE=EVENT_RELAY' : 'EVRLY-',
		      'MSG_TYPE=ADD_TO_LMQ' : 'LMQADDS-'},
    'log_file_path' : '/diska/enstore-log' }

configdict['accounting_server'] = {
    'host': 'cdfensrv6',
    'port': 7580,
    'logname': 'ACCSRV',
    'norestart':'INQ',
    'dbhost': 'cdfensrv6.fnal.gov',
    'dbname': 'enstore'}

configdict['drivestat_server'] = {
    'host': 'cdfensrv6',
    'port': 7590,
    'logname': 'DRSSRV',
    'norestart':'INQ',
    'dbhost': 'cdfensrv6.fnal.gov',
    'dbport': 8076,
    'dbname': 'drivestat'}

configdict['info_server'] = {
    'host': 'cdfensrv0',
    'port': 7777,
    'logname': 'INFSRV',
    'norestart':'INQ',
    'dbhost': 'cdfensrv0.fnal.gov',
    'dbname': 'enstoredb'}


configdict['inquisitor']   = { 'host':'cdfensrv2', 'port':7505, 'logname':'INQSRV',
			       'alive_rcv_timeout': 5, 'alive_retries':1,
			       'refresh' : 3600,
			       'html_file':'/local/ups/prd/www_pages/enstore/',
			       'http_log_file_path':'/enstore/log/',
			       'www_host':'http://cdfensrv2.fnal.gov',
			       'max_encp_lines': 250,
			       'user_log_dirs' : {'Cdfen Cluster Console Logs'	: '/enstore/CONSOLES.html',
						  'Cdfen Cluster Node Info'	: '/enstore/nodeinfo.html',
						  'Cdfen Cluster SDR Info'	: '/enstore/SDR.html',
						  'Cdfen Cluster SEL Info'	: '/enstore/SEL.html',
						  'Cdfen Internode Rates'	: '/enstore/quickcheck.eepro100.html',
						  'Cdfen UDP Clogup Info'	: '/enstore/UDPclog.html',
						  'Cdfen Tape Drives'		: 'http://stkensrv2.fnal.gov/enstore/firmware_stat_report.cdfensrv2.fnal.gov.html',
						  'Active Monitor Log'		: '/enstore/active_monitor.html',
						  'Network-At-A-Glance'		: '/enstore/enstore_saag_network.html',
						  'CDF PNFS Counters'		: '/enstore/pnfsRate.html',
						  'CDF PNFS Export List'	: '/enstore/pnfsExports.html',
						  'FAILED Transfers'		: '/enstore/log/transfer_failed.txt',
						  'Recent STK log messages'	: '/enstore/log/STK-log.html',
						  },
			       'default_alive_interval': 30,
			       'default_hung_interval' : 120 }

#Starting with encp v3 the "enstore monitor" command looks for 'monitor_server'
# instead of 'monitor'.  Need both for compatibility.  Remove 'monitor' when
# only v3 and later is allowed.
configdict['monitor_server'] = {
    'html_dir'		: '/local/ups/prd/www_pages/enstore/',
    'html_gen_host'	: 'cdfensrv2',
    'refresh'		: 3600,
    'veto_nodes'	: {'rip3': 'not in system my reason'},
    'block_size'	: 65536,
    'block_count'	: 160,
    'default_timeout'	: 3 }
configdict['monitor'] = {
    'html_dir'		: '/local/ups/prd/www_pages/enstore/',
    'html_gen_host'	: 'cdfensrv2',
    'refresh'		: 3600,
    'veto_nodes'	: {'rip3': 'not in system my reason'},
    'block_size'	: 65536,
    'block_count'	: 160,
    'default_timeout'	: 3 }

configdict['www_server'] = { 'system_tag' : "CDFEN: Enstore for CDF/Run II",
			     'media' : {'1' : 'CDF 2nd Flr Powderhorns'},
			     'inq_ignore' : 1 }

configdict['other_saag_links'] = { 'dcache_cdf' : ['CDF dCache', 'http://cdfdca.fnal.gov/'],
				   }


configdict['null.library_manager']      = { 'host':'cdfensrv4', 'port':7511,
					    'logname':'NULLBM',
					    'norestart':'INQ',
					    'noupdown':'jon',
					    'inq_ignore':'jon',
					    'max_encp_retries':3,
					    'suspect_volume_expiration_time':2,
					    'legal_encp_version':'v3_3',
					    }

configdict['cdf.library_manager']       = { 'host':'cdfensrv4', 'port':7515,
					    'logname':'CDFLM',
					    'norestart':'INQ',
					    'max_encp_retries':3,
					    'max_suspect_movers':3,
					    'max_file_size':(60L*GB) - 1,
					    'min_file_size':300*MB,
					    'suspect_volume_expiration_time':3600*24,
					    'legal_encp_version':'v3_3',
					    'CleanTapeVolumeFamily': '9940ACLN.CleanTapeFileFamily.noWrapper',
					    }

configdict['CDF-9940B.library_manager'] = { 'host':'cdfensrv4', 'port':7522,
					    'logname':'9940BLM',
					    'norestart':'INQ',
					    'max_encp_retries':3,
					    'max_file_size':(200L*GB) - 1,
					    'min_file_size':300*MB,
					    'suspect_volume_expiration_time':3600*24,
					    'legal_encp_version':'v3_3',
					    'CleanTapeVolumeFamily': '9940BCLN.CleanTapeFileFamily.noWrapper',
					    }

configdict['test.library_manager']      = { 'host':'cdfensrv4', 'port':7516,
					    'logname':'TSTLM',
					    'norestart':'INQ',
					    'noupdown':'jon',
					    'inq_ignore':'efb',
					    'max_encp_retries':3,
					    'max_file_size':(60L*GB) - 1,
					    'min_file_size':300*MB,
					    'suspect_volume_expiration_time':3600*24,
					    'legal_encp_version':'v3_3',
					    }

configdict['TST-9940B.library_manager'] = { 'host':'cdfensrv4', 'port':7523,
					    'logname':'9940BTLM',
					    'norestart':'INQ',
					    'noupdown':'sasha',
					    'inq_ignore':'sasha',
					    'max_encp_retries':3,
					    'max_file_size':(200L*GB) - 1,
					    'min_file_size':300*MB,
					    'suspect_volume_expiration_time':3600*24,
					    'legal_encp_version':'v3_3',
					    }

configdict['null.media_changer'] = { 'host':'cdfensrv4', 'port':7520, 'logname':'NULLMC', 'type':'RDD_MediaLoader',
				     'norestart':'INQ', 'noupdown':'jon', 'inq_ignore':'jon', }

configdict['stk.media_changer']  = { 'host':'cdfensrv4', 'port':7524,
				     'logname':'STKMC ',
				     'type':'STK_MediaLoader',
				     'norestart':'INQ',
				     'acls_host':'fntt2',
				     'acls_uname':'acsss',
				     'DriveCleanTime':{'9940':[60,1],'9940B':[60,1]},
				     }


### 'noupdown':'jon', 'inq_ignore':'jon',

configdict['null1.mover'] = { 'host':'cdfenmvr1a',
			      'data_ip':'cdfenmvr1a',
			      'port':7537,
			      'logname':'NUL1MV',
			      'norestart':'INQ',
			      'noupdown':'efb', 'inq_ignore' : 'jon',
			      'max_buffer':350*MB,
			      'library':'null.library_manager',
			      'device':'/dev/null',
			      'driver':'NullDriver',
			      'mc_device':'-1',
			      'media_changer':'null.media_changer',
			      }

configdict['null2.mover'] = { 'host':'cdfenmvr2a',
			      'data_ip':'cdfenmvr2a',
			      'port':7538,
			      'logname':'NUL2MV',
			      'norestart':'INQ',
			      'noupdown':'efb', 'inq_ignore' : 'jon',
			      'max_buffer':350*MB,
			      'library':'null.library_manager',
			      'device':'/dev/null',
			      'driver':'NullDriver',
			      'mc_device':'-1',
			      'media_changer':'null.media_changer',
			      }

configdict['null3.mover'] = { 'host':'cdfenmvr3a',
                              'data_ip':'cdfenmvr3a',
                              'port':7539,
                              'logname':'NUL3MV',
                              'norestart':'INQ',
                              'noupdown':'efb', 'inq_ignore' : 'jon',
                              'max_buffer':350*MB,
                              'library':'null.library_manager',
                              'device':'/dev/null',
                              'driver':'NullDriver',
                              'mc_device':'-1',
                              'media_changer':'null.media_changer',
                              }


configdict['99401.mover'] =  { 'host':'cdfenmvr1a',
			       'data_ip':'cdfenmvr1a',
			       'port':7601,
			       'logname':'BE1MV',
			       'statistics_path': '/tmp/enstore/enstore/BE1MV.stat',
			       'norestart':'INQ',
			       'max_consecutive_failures': mvr_max_consecutive_failures,
			       'max_failures': mvr_max_failures,
			       'compression':0,
			       'check_written_file': 100,
#			       'check_written_file': mvr_check_f,
			       'max_buffer':350*MB,
			       'max_rate': s9940_rate,
			       'mount_delay':15,
			       'max_dismount_delay':max_dismount_delay,
			       'dismount_delay': dismount_delay,
			       'update_interval':5,
#			       'library':'test.library_manager',
			       'library':'cdf.library_manager',
			       'device':'/dev/rmt/tps0d1n',
			       'driver':'FTTDriver',
			       'mc_device':'0,0,10,0',
			       'media_changer':'stk.media_changer',
			       'do_cleaning':'No',
			       'syslog_entry':low_level_diag_pattern,
			       'send_stats':1,
			       'max_in_state_cnt':max_in_state_cnt,
			       }

configdict['99402.mover'] =  { 'host':'cdfenmvr2a',
			       'data_ip':'cdfenmvr2a',
			       'port':7602,
			       'logname':'BE2MV',
			       'statistics_path': '/tmp/enstore/enstore/BE2MV.stat',
			       'norestart':'INQ',
			       'max_consecutive_failures': mvr_max_consecutive_failures,
			       'max_failures': mvr_max_failures,
			       'compression':0,
#			       'check_written_file': mvr_check_f,
			       'check_written_file': 1,
			       'max_buffer':350*MB,
			       'max_rate': s9940_rate,
			       'mount_delay':15,
			       'max_dismount_delay':max_dismount_delay,
			       'dismount_delay': dismount_delay,
			       'update_interval':5,
			       'library':'test.library_manager',
#			       'library':'cdf.library_manager',
			       'device':'/dev/rmt/tps0d1n',
			       'driver':'FTTDriver',
			       'mc_device':'0,0,10,1',
			       'media_changer':'stk.media_changer',
			       'do_cleaning':'No',
			       'syslog_entry':low_level_diag_pattern,
			       'send_stats':1,
			       'max_in_state_cnt':max_in_state_cnt,
			       }

configdict['99403.mover'] =  { 'host':'cdfenmvr3a',
			       'data_ip':'cdfenmvr3a',
			       'port':7603,
			       'logname':'BE3MV',
			       'statistics_path': '/tmp/enstore/enstore/BE3MV.stat',
			       'norestart':'INQ',
			       'max_consecutive_failures': mvr_max_consecutive_failures,
			       'max_failures': mvr_max_failures,
			       'compression':0,
			       'check_written_file': mvr_check_f,
			       'max_buffer':350*MB,
			       'max_rate': s9940_rate,
			       'mount_delay':15,
			       'max_dismount_delay':max_dismount_delay,
			       'dismount_delay': dismount_delay,
			       'update_interval':5,
#			       'library':'test.library_manager',
			       'library':'cdf.library_manager',
			       'device':'/dev/rmt/tps0d1n',
			       'driver':'FTTDriver',
			       'mc_device':'0,0,10,2',
			       'media_changer':'stk.media_changer',
			       'do_cleaning':'No',
			       'syslog_entry':low_level_diag_pattern,
			       'send_stats':1,
			       'max_in_state_cnt':max_in_state_cnt,
			       }

configdict['9940B11.mover'] = { 'host':'cdfenmvr11a',
				'data_ip':'cdfenmvr11a',
				'port':7711,
				'logname':'DBT11MV',
				'statistics_path': '/tmp/enstore/enstore/DBT11MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,11',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B12.mover'] = { 'host':'cdfenmvr12a',
				'data_ip':'cdfenmvr12a',
				'port':7712,
				'logname':'DBT12MV',
				'statistics_path': '/tmp/enstore/enstore/DBT12MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':500*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,12',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B13.mover'] = { 'host':'cdfenmvr13a',
				'data_ip':'cdfenmvr13a',
				'port':7615,
				'logname':'DBT13MV',
				'statistics_path': '/tmp/enstore/enstore/DBT13MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,0',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B14.mover'] = { 'host':'cdfenmvr14a',
				'data_ip':'cdfenmvr14a',
				'port':7616,
				'logname':'DBT14MV',
				'statistics_path': '/tmp/enstore/enstore/DBT14MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,1',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B15.mover'] = { 'host':'cdfenmvr15a',
				'data_ip':'cdfenmvr15a',
				'port':7617,
				'logname':'DBT15MV',
				'statistics_path': '/tmp/enstore/enstore/DBT15MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,2',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B16.mover'] = { 'host':'cdfenmvr16a',
				'data_ip':'cdfenmvr16a',
				'port':7618,
				'logname':'DBT16MV',
				'statistics_path': '/tmp/enstore/enstore/DBT16MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,3',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B17.mover'] = { 'host':'cdfenmvr17a',
				'data_ip':'cdfenmvr17a',
				'port':7619,
				'logname':'DBT17MV',
				'statistics_path': '/tmp/enstore/enstore/DBT17MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,4',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B18.mover'] = { 'host':'cdfenmvr18a',
				'data_ip':'cdfenmvr18a',
				'port':7718,
				'logname':'DBT18MV',
				'statistics_path': '/tmp/enstore/enstore/DBT18MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,5',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B19.mover'] = { 'host':'cdfenmvr19a',
				'data_ip':'cdfenmvr19a',
				'port':7719,
				'logname':'DBT19MV',
				'statistics_path': '/tmp/enstore/enstore/DBT19MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,6',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B20.mover'] = { 'host':'cdfenmvr20a',
				'data_ip':'cdfenmvr20a',
				'port':7720,
				'logname':'DBT20MV',
				'statistics_path': '/tmp/enstore/enstore/DBT20MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':500*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,7',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B21.mover'] = { 'host':'cdfenmvr21a',
				'data_ip':'cdfenmvr21a',
				'port':7721,
				'logname':'DBT21MV',
				'statistics_path': '/tmp/enstore/enstore/DBT21MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':500*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,8',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B22.mover'] = { 'host':'cdfenmvr22a',
				'data_ip':'cdfenmvr22a',
				'port':7722,
				'logname':'DBT22MV',
				'statistics_path': '/tmp/enstore/enstore/DBT22MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':500*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,9',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B23.mover'] = { 'host':'cdfenmvr23a',
				'data_ip':'cdfenmvr23a',
				'port':7723,
				'logname':'DBT23MV',
				'statistics_path': '/tmp/enstore/enstore/DBT23MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,10',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B24.mover'] = { 'host':'cdfenmvr24a',
				'data_ip':'cdfenmvr24a',
				'port':7724,
				'logname':'DBT24MV',
				'statistics_path': '/tmp/enstore/enstore/DBT24MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,13',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B25.mover'] = { 'host':'cdfenmvr25a',
				'data_ip':'cdfenmvr25a',
				'port':7725,
				'logname':'DBT25MV',
				'statistics_path': '/tmp/enstore/enstore/DBT25MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,14',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B26.mover'] = { 'host':'cdfenmvr26a',
				'data_ip':'cdfenmvr26a',
				'port':7726,
				'logname':'DBT26MV',
				'statistics_path': '/tmp/enstore/enstore/DBT26MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,15',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B27.mover'] = { 'host':'cdfenmvr27a',
				'data_ip':'cdfenmvr27a',
				'port':7727,
				'logname':'DBT27MV',
				'statistics_path': '/tmp/enstore/enstore/DBT27MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,16',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

configdict['9940B28.mover'] = { 'host':'cdfenmvr28a',
				'data_ip':'cdfenmvr28a',
				'port':7728,
				'logname':'DBT28MV',
				'statistics_path': '/tmp/enstore/enstore/DBT28MV.stat',
				'norestart':'INQ',
				'max_consecutive_failures': mvr_max_consecutive_failures,
				'max_failures': mvr_max_failures,
				'compression':0,
				'check_written_file': b_mvr_check_f,
				'max_buffer':1300*MB,
				'max_rate': s9940b_rate,
				'mount_delay':15,
				'max_dismount_delay':max_dismount_9940b_delay,
				'dismount_delay':dismount_9940b_delay,
				'update_interval':5,
				'library':'CDF-9940B.library_manager',
				'device':'/dev/rmt/tps0d0n',
				'driver':'FTTDriver',
				'mc_device':'0,1,10,17',
				'media_changer':'stk.media_changer',
				'do_cleaning':'No',
				'syslog_entry':low_level_diag_pattern,
				'send_stats':1,
				'max_in_state_cnt':max_in_state_cnt,
				'check_first_written_file':b_mvr_check_1st,
				}

"""
priority: OPTIONAL. If present specifies the request priority settings for a
Library Manager based on the ticket keys and regular expressions. For details
please contact developer or look in the priority.py code.

----------------------------------------------------------------
discipline: OPTIONAL. If present specifies the restictions set for the request
for a Library Manager based on the ticket keys and regular expressions. For
details please contact developer or look in the discipline.py code.

----------------------------------------------------------------
LIBRARY MANAGER KEYS

host (string) REQUIRED

port (int) REQUIRED

logname (string) OPTIONAL - defaults to mover name

startup_delay: (int) OPTIONAL Time during which LM ignores mover requests after startup.
	       Default 32

min_file_size: (int or long) OPTIONAL. Minimal file size when requesting volume clerk for
	       the volume to write to. Default 0L

max_file_size: (int or long) OPTIONAL. Maximal file size allowed for the media served by
	       this LM. Default 2*GB - 2*KB

legal_encp_version: (string) OPTIONAL. the oldest allowed encp version. All others will be rejected.
		    Default ''

suspect_volume_expiration_time: (int) OPTIONAL. Time after which becomes cleared.
				Default None

rq_wait_time: (int) OPTIONAL. Recreate postponed request list after this time expires.
	      Default 3600 s

CleanTapeVolumeFamily: (string) OPTIONAL volume family for the cleaning tape. Used by Media Changer.
		       No default

storage_group_limits: minimal amount of drives that can be used by a certain storage group (fair share)
		      when different storage groups compete for tape drives.

-------------------------------------------------------------------

MOVER KEYS

These are all the keys that the mover cares about:

host (string) REQUIRED

port (int) REQUIRED

logname (string) OPTIONAL - defaults to mover name

do_eject (string) OPTIONAL - defaults to 'yes', override by setting
		  "no" or "No" (or anything starting with N or n)

do_cleaning (string) OPTIONAL - defaults to 'yes', override by setting
		     "no" or "No" (or anything starting with N or n)
		     This only controls automatic cleaning.  enstore mov --clean-drive
		     will always work, whether this is set or not.

mc_device (string) not needed for NULL movers; required otherwise

min_buffer (int)  OPTIONAL minimum amount of memory to allocate for
		  buffering - defaults to 8MB

max_buffer (int)  OPTIONAL maximum amount of memory to allocate for
		  buffering - defaults to 64MB

max_rate (float) OPTIONAL maximum sustained transfer rate for writes
		 This is used to calculate optimal buffer size.  It does not need to
		 be exact.

device (string) REQUIRED pathname to the UNIX tape device
		for NULL movers make this /dev/null

dismount_delay (int) OPTIONAL delayed dismount value to use when none
		     specified by the client. Default is 60 seconds.
		     Set to negative value to get "infinite" dismount
		     delay.

mount_delay (int) OPTIONAL number of seconds to wait after media
		  changer mount completes, before trying to open
		  device. Default is 15 for FTT driver, 0 for NULL
		  driver

max_dismount_delay: (int s) OPTIONAL maximal dismount delay that can be set for this mover.
			    Default 600 seconds

library (string or list):  REQUIRED.  Who are we working for?  One or
			   more library manager names.

driver (string): REQUIRED.  Currently must be 'FTTDriver' or
		 'NullDriver', or else mover will complain at startup.
		 If we need a disk mover, this would be easy to hack
		 together; doesn't seem too useful though.

max_consecutive_failures: type int, default 2
			  Mover will declare itself "broken" if this
			  many successive transfers fail, and the
			  error was not ENCP_GONE

max_failures: type int, default 3
	      Mover will declare itself "broken" if this many
	      transfers fail within failure_interval (see below).
	      Again, ENCP_GONE errors do not count

failure_interval: type int, default 3600 (one hour)
		  Interval for above.

send_stats: OPTIONAL if present (can be set to 1) send drive statistics to the drivestat Data Base

type: (string) OPTIONAL type of the mover ('','Mover','DiskMover') specifies the type of mover

ip_map: (string) OPTIONAL ip map of the mover node. Used only in Disk Mover to create a volume name

media_type: (string) OPTIONAL media type used for the mover

log_state: (int) OPTIONAL if set log the state of the mover processes

syslog_entry: (string) OPTIONAL expression to match in the syslog for the low level failure diagnostics

restart_on_error: (int) restart mover if it went to the ERROR state. Default - not restart

connect_timeout (sec) TO for mover connection to encp. Default - 15 s

connect_retries (int) number of connect retries. Default 4

update_interval: (int s) OPTIONAL interval for the mover to ask LM for the work. Default 15 s

single_filemark: (int) OPTIONAL if not 0 write single file mark. Default 0 - write 2 fm

check_written_file: (int) OPTIONAL if more than 0 randomly check written file using randomization of
			  this number. Default 0 - no check. 1 - check every written file.

max_time_in_state: (int s) OPTIONAL time in state after which alarm will be raised. Default 600 s

max_in_state_cnt: (int) OPTIONAL if this counter expires Mover errors out with Mover stuck message.
			Default 3

statistics_path: (string): OPTIONAL. If specified write the last statistics to the file statistics_path.
			   Default None

compression: (int) OPTIONAL 0 means no compression. Everything else means use the drive compression.
		   Default None - use the drive compression

get_remaining_from_stats (optional) : get remaining bytes info from drive

"""
