#!/usr/bin/env python

# $Id$

KB=1024L
MB=KB*KB
GB=KB*MB

ait1_rate =    2.7 * MB
mam1_rate =    2.8 * MB
dlt_rate =     5.1 * MB
s9840_rate =  10.5 * MB
s9940_rate =  10.5 * MB
s9940b_rate = 27.0 * MB
lto_rate =    15.0 * MB
ait2_rate =    9.5 * MB
mam2_rate =   11.5 * MB
null_rate =   11.5 * MB

mvr_max_consecutive_failures=3

mvr_max_failures=5

mvr_check_f = 10
b_mvr_check_f = 1
#mvr_check_f = 1

vol_max_noaccess_cnt=4
low_level_diag_pattern = 'st[0-9]' # pattern to look in syslog file when FTT_EIO occurs

configdict = {}

configdict['priority'] = {'9940.library_manager':{'adminpri':{2:{'host': 'hal9002+|hal9004+|damen+|walcott+',
                                                                 'uname':'e898',
                                                                 'storage_group':'miniboone',
                                                                 },
                                                              }
                                                  },
                          'eagle.library_manager':{'adminpri':{2:{'host': 'hal9002+|hal9004+|damen+|walcott+',
                                                                  'uname':'e898',
                                                                  'storage_group':'miniboone',
                                                                  },
                                                               }
                                                   }
                          }
configdict['known_config_servers'] = {'d0en'  : ('d0ensrv2.fnal.gov',7500),
                                      'cdfen' : ('cdfensrv2.fnal.gov',7500),
                                      'stken' : ('stkensrv2.fnal.gov',7500),
                                      'rip'   : ('rip7.fnal.gov',7500), }

configdict['system'] = { 'allowed_down' : {'log_server' :           [1,10],
                                           'alarm_server' :         [1,10],
                                           'configuration_server' : [1,10],
                                           'file_clerk' :           [1,10],
                                           'inquisitor' :           [3,30],
                                           'volume_clerk' :         [1,10],
                                           'library_manager' :      [2,20],
                                           'media_changer' :        [2,10],
                                           'default' :              [1,20] }}


configdict['discipline'] = {'eagle.library_manager':{'cms':{1:{'keys':{'host':".+"},
                                                             'function':'restrict_host_access',
                                                             'args':['cms','.+',3],
                                                             'action':'ignore'},
                                                            },
                                                     
                                                     'theory':{1:{'keys':{'host':"fncrdm+"},
                                                             'function':'restrict_host_access',
                                                             'args':['theory','fncrdm',1],
                                                             'action':'ignore'},
                                                               },
                                                     },
                            '9940.library_manager':{'cms':{1:{'keys':{'host':".+"},
                                                             'function':'restrict_host_access',
                                                             'args':['cms','.+',3],
                                                             'action':'ignore'},
                                                            },
                                                     'theory':{1:{'keys':{'host':"fncrdm+"},
                                                             'function':'restrict_host_access',
                                                             'args':['theory','fncrdm',1],
                                                             'action':'ignore'},
                                                               },
                                                     },
                            }

configdict['quotas'] = {'enabled':'yes',
                        'libraries':{'null1': {'EnsV1':   1,
                                               'null':    100,
                                               'cms':     100,
                                               'NeST':    100,
                                               },
                                     'cdf':   {
                                               'cdf':         1111,
                                              },
                                     'eagle': {'auger':        100,
                                               'btev':          10,
                                               'backups':      102,
                                               'ckm':           10,
                                               'cms':          663,
                                               'd0lib-archive': 75,
                                               'e831':         230,
                                               'eagle':          9,
                                               'EnsV1':         36,
                                               'minos':        120,
                                               'null':          23,
                                               'sdss':         225,
                                               'selex':        210,
                                               'test':          11,
                                               'theory':       200,
                                               'E872':           4,
                                               'e791':          30,
                                               'e835':          10,
                                               'ECLN':          10,
                                               },
                                     'eval-a': {'test':50,},
                                     'eval-b': {'test':50,},
                                     'eval-bb': {'test':2,
                                                 'T1':2},
                                     'test':  {'test':10,
                                               'cw':10,
                                               },
                                     'disk':  {'T1': 100,
                                               },
                                     '9940': {'test':          100,
                                              'auger':          40,
                                              'T1':              2,
                                              'backups':        50,
                                              'cdf':            85,
                                              'D0':            535,
                                              'd0lib-archive':  10,
                                              'e740':           50,
                                              'btev':          100,
                                              'E815':           10,
                                              'theory':         50,
                                              'ktev':          164,
                                              'cms':           750,
                                              'patriot':        20,
                                              'e871':           80,
                                              'e907':          100,
                                              'miniboone':     135,
                                              'cdf-sam':        85,
                                              'sdss':          500,
                                              'NeST':           20,
                                              'beamstool':     150,
                                              'minos':          45,
                                              'Central_Logs':   20,
                                              'lqcd':           50,
                                              'CLEAN':          10,
                                               },
                                     'CMS-9940B': {'cms':       550,
                                                   'CLEAN':     10,
                                                   },
                                     },
                        #'order' effects the order of the inventory
                        # VOLUME_QUOTAS page..
                        'order':{'top':[(None, 'auger'),
                                        (None, 'btev'),
                                        (None, 'cdf'),
                                        (None, 'ckm'),
                                        (None, 'cms'),
                                        (None, 'D0'),
                                        (None, 'd0lib-archive'),
                                        (None, 'e740'),
                                        (None, 'e791'),
                                        (None, 'e831'),
                                        (None, 'e835'),
                                        (None, 'E815'),
                                        (None, 'e871'),
                                        (None, 'E872'),
                                        (None, 'e907'),
                                        (None, 'ktev'),
                                        (None, 'miniboone'),
                                        (None, 'minos'),
                                        (None, 'patriot'),
                                        (None, 'sdss'),
                                        (None, 'selex'),
                                        (None, 'theory'),],
                                 'bottom':[('null1', None),]}
                        }

configdict['blocksizes'] = { '8MM'       : 131072,
                             'DECDLT'    : 131072,
                             'null'      : 131072,
                             '9840'      : 131072,
                             '9940'      : 131072,
                             '9940B'     : 131072}

configdict['wrappersizes'] = { 'null': (8L*GB) - 1,
                               'cern'  : (20L*GB) - 1,
                               'cpio_odc'  : (8L*GB) - 1 }

configdict['database']     = { 'db_dir':'/diskb/enstore-database', 'jou_dir':'/diska/enstore-journal' }

configdict['inventory']    = { 'inventory_dir'        : '/diskc/db-inventory',
                               'inventory_tmp_dir'    : '/diskc/db-inventory/tmp',
                               'inventory_cache_dir'  : '/diskc/db-inventory_cache',
                               'inventory_extract_dir': '/diskc/db-inventory/extract',
                               'inventory_rcp_dir'    : 'stkensrv2:/fnal/ups/prd/www_pages/enstore/tape_inventory',
                               'authorized_file'      : '/home/enstore/enstore/etc/auth_stk.conf' }

# tape mount limits according to media type
# when mounts exceed the first number, an alarm should be generated
# when it exceeds the second number, enstore ball should be turned red
#
# ignore any media type that is not mentioned
configdict['tape_mount_limit'] = {
        '8MM': (2000, 5000),
        '9840': (2000, 5000),
        '9940': (2000, 5000),
        '9940B': (2000, 5000),
        'DECDLT': (2000, 5000)}

configdict['ratekeeper']   = {
    'host'    :'stkensrv2',                  #node ratekeeper is running on
    'port'    :55511,                        #port ratekeeper is running on
    'event_relay_host':'stkensrv2.fnal.gov', #node event relay is running on
    'logname' :'RATSRV',                     #logname
    'dir'     :'/diska/ratekeeper/',         #directory to write rates to
    'tmp'     :'/diska/ratekeeper/tmp/',     #temp directory used
    'norestart'        : 'INQ',
    'noupdown'         : 'efb',
    'nodes'   :{},
    'ps'      :'/local/ups/prd/www_pages/enstore/*rates.ps',
    'jpg'     :'/local/ups/prd/www_pages/enstore/*rates.jpg',
    'stamp'   :'/local/ups/prd/www_pages/enstore/*rates_stamp.jpg'}

# too many name server failures - use the numeric ip - 131.225.13.3 is stkensrv3
configdict['backup']       = { 'host':'131.225.13.3', 'dir':'/diska/enstore-backup', 'extract_dir':'/diska/check-db-tmp' }

configdict['event_relay']   = { 'host':'stkensrv2', 'port':55510 }
configdict['file_clerk']   =  { 'host':'stkensrv0', 'port':7501, 'logname':'FILSRV' ,'norestart':'INQ', 'brand':'CDMS', }
configdict['volume_clerk'] = { 'host':'stkensrv0', 'port':7502, 'logname':'VOLSRV', 'norestart':'INQ',
                               'norestart':'INQ', 'max_noaccess_cnt' : vol_max_noaccess_cnt }
configdict['alarm_server'] = { 'host':'stkensrv2', 'port':7503 ,'logname':'ALMSRV', 'norestart':'INQ', }
configdict['log_server']   =  { 'host':'stkensrv2', 'port':7504,
				'log_file_path':'/diska/enstore-log', 
				'msg_type_logs': {'MSG_TYPE=MC_LOAD_REQ' : 'MOUNTS-',
						 'MSG_TYPE=MC_LOAD_DONE' : 'MOUNTS-',
						 'MSG_TYPE=ENCP_XFER' : 'ENCPS-',
						 'MSG_TYPE=EVENT_RELAY' : 'EVRLY-',
						 'MSG_TYPE=ADD_TO_LMQ' : 'LMQADDS-'},
				'norestart':'INQ', }


configdict['accounting_server'] = {
    'host': 'stkensrv2',
    'port': 7580,
    'logname': 'ACCSRV',
    'dbhost': 'stkensrv0.fnal.gov',
    'dbname': 'enstore'}

configdict['drivestat_server'] = {
    'host': 'stkensrv0',
    'port': 7590,
    'logname': 'DRSSRV',
    'dbhost': 'stkensrv0.fnal.gov',
    'dbport': 8076,
    'dbname': 'drivestat'}

configdict['inquisitor']   = { 'host':'stkensrv2', 'port':7505, 'logname':'INQSRV',
                               'alive_rcv_timeout': 5, 'alive_retries':1,
                               'refresh'          : 3600,
                               'html_file':'/local/ups/prd/www_pages/enstore/',
                               'http_log_file_path':'/enstore/log/',
                               'www_host':'http://stkensrv2.fnal.gov',
                               'max_encp_lines': 250,
                               'user_log_dirs' : {'Stken Cluster SDR Info'         :'/enstore/SDR.html',
                                                  'Stken Cluster SEL Info'         :'/enstore/SEL.html',
                                                  'Stken Cluster Console Logs'     :'/enstore/CONSOLES.html',
                                                  'Stken Internode Rates'          :'/enstore/quickcheck.eepro100.html',
						  'StkEn Cluster UDP Clogup Info'  :'/enstore//UDPclog.html',
                                                  'Active Monitor Log'             :'/enstore/active_monitor.html',
                                                  'Network-At-A-Glance'            :'/enstore/enstore_saag_network.html',
                                                  'PNFS Counters'                  :'/enstore/pnfsRate.html',
                                                  'PNFS Export List'               :'/enstore/pnfsExports.html',
#                                                 '6509 BigA Switch Info':'http://airedale.fnal.gov/biga.html',
						  'Enstore Node Information'       :'/enstore/nodeinfo.html',
                                                  ' FAILED  Transfers'             :'/enstore/log/transfer_failed.txt ',
                                                  ' Recent STK log messages'       :'/enstore/log/STK-log.html ',
                                                  'Cambot'                         :'/enstore/enstore_cambot.html',},

                               'hung_rcv_timeout' : {'eagle.library_manager' : 120},
			       'default_hung_interval' : 120,
                               'default_alive_interval': 30 }

configdict['monitor_server']   = {
    'html_dir'        : '/local/ups/prd/www_pages/enstore/',
    'html_gen_host'    : 'stkensrv2',
    'refresh'          : 3600,
    'veto_nodes'       : {'rip3': 'not in system my reason'},
    'block_size'       : 65536,
    'block_count'      : 160,
    'default_timeout'  : 3 }

configdict['www_server'] = { 'system_tag' : "STKEN: Enstore for the StorageTek Silo",
			     'media' : {'1' : 'CD 2nd Flr Powderhorn',
					'2' : 'D0 Mezzanine Powderhorn',},
                             'inq_ignore' : 1 }

configdict['null1.library_manager']     =  { 'host':'stkensrv4', 'port':7511,
                                             'logname':'NULLBM',
                                             'max_encp_retries':3,
                                             'norestart':'INQ',
                                             'noupdown':'jon',
                                             'inq_ignore':'jon',
                                             'max_file_size':(8L*GB) - 1,
                                             'suspect_volume_expiration_time':2,}

configdict['eagle.library_manager']     =  { 'host':'stkensrv4', 'port':7513,
                                             'logname':'EAGLBM',
                                             'max_encp_retries':3,
                                             'norestart':'INQ',
                                             'max_file_size':(60L*GB) - 1,
                                             'suspect_volume_expiration_time':3600*24,
                                             'legal_encp_version':'v2_20',
                                             'CleanTapeVolumeFamily':'ECLN.CleanTapeFileFamily.noWrapper'}

configdict['9940.library_manager']      =  { 'host':'stkensrv4', 'port':7515,
                                             'logname':'9940LM',
                                             'max_encp_retries':3,
                                             'min_file_size':300*MB,
                                             'norestart':'INQ',
                                             'max_file_size':(60L*GB) - 1,
                                             'suspect_volume_expiration_time':3600*24,
                                             'legal_encp_version':'v2_20',
                                             'storage_group_limits':{'cms' : 1,
                                                                     },
                                             'CleanTapeVolumeFamily': 'CLEAN.CleanTapeFileFamily.noWrapper',
                                             }

configdict['CMS-9940B.library_manager'] = { 'host':'stkensrv4',
                                             'norestart':'INQ',
                                             'port':7522,
                                             'logname':'9940BLM',
                                             'max_encp_retries':3,
                                             'norestart':'INQ',
                                             'max_file_size':(200L*GB) - 1,
                                             'min_file_size':300*MB,
                                             'suspect_volume_expiration_time':3600*24,
                                             'legal_encp_version':'v2_20',
                                             }
configdict['test.library_manager']     =   { 'host':'stkensrv4', 'port':7516,
                                             'logname':'TESTLBM',
                                             'max_encp_retries':3,
                                             'norestart':'INQ',
                                             'noupdown':'efb',
                                             'max_file_size':(60L*GB) - 1,
                                             'inq_ignore':'jon',}

##configdict['disk.library_manager']     =   { 'host':'stkensrv4', 'port':7517,
##                                             'logname':'DISKLBM',
##                                             'max_encp_retries':3,
##                                             'norestart':'INQ',
##                                            'noupdown':'efb',
##                                             'max_file_size':(60L*GB) - 1,
##                                             'inq_ignore':'jon',}

configdict['eval-a.library_manager']   =   { 'host':'stkensrv4', 'port':7518,
                                             'logname':'EVALALM',
                                             'max_encp_retries':3,
                                             'min_file_size':300*MB,
                                             'max_file_size':(60L*GB) - 1,
                                             'suspect_volume_expiration_time':3600*24,
                                             'legal_encp_version':'v2_20',
                                             'norestart':'INQ', 'noupdown':'seva', 'inq_ignore':'seva',
                                             }

##configdict['eval-b.library_manager']   =   { 'host':'stkensrv4', 'port':7519,
##                                             'logname':'EVALBLM',
##                                             'max_encp_retries':3,
##                                             'min_file_size':300*MB,
##                                             'max_file_size':(200L*GB) - 1,
##                                             'suspect_volume_expiration_time':3600*24,
##                                             'legal_encp_version':'v2_20',
##                                             'norestart':'INQ', 'noupdown':'seva', 'inq_ignore':'seva',
##                                             }
##configdict['eval-bb.library_manager']   =   { 'host':'stkensrv4', 'port':7521,
##                                             'logname':'EVALBBLM',
##                                             'max_encp_retries':3,
##                                             'min_file_size':300*MB,
##                                             'max_file_size':(200L*GB) - 1,
##                                             'suspect_volume_expiration_time':3600*24,
##                                             'legal_encp_version':'v2_20',
##                                             'norestart':'INQ', 'noupdown':'seva', 'inq_ignore':'seva',
##                                             }

configdict['null1.media_changer']    = { 'host':'stkensrv4',  'port':7520, 'logname':'NUL1MC',  'type':'RDD_MediaLoader',
                                         'norestart':'INQ','noupdown':'jon', 'inq_ignore':'jon' ,}
configdict['stk.media_changer']      = { 'host':'stkensrv4',
                                         'port':7523,
                                         'logname':'STKMC ',
                                         'type':'STK_MediaLoader',
                                         'norestart':'INQ',
                                         'acls_host':'fntt',
                                         'acls_uname':'acsss',
                                         'DriveCleanTime':{'9840':[60,1],'9940':[60,1]},
                                         }

### 'noupdown':'jon', 'inq_ignore' : 'jon',

configdict['null5.mover'] = { 'host':'stkensrv5', 'data_ip':'stkensrv5','port':7537,'max_buffer':80*MB, 'logname':'NUL1MV',
                              'norestart':'INQ', 'noupdown':'efb', 'inq_ignore' : 'jon',
                              'library':'null1.library_manager', 'device':'/dev/null',    'driver':'NullDriver',
                              'mc_device':'-1', 'media_changer':'null1.media_changer', }

configdict['null12.mover'] = { 'host':'stkenmvr12a', 'data_ip':'stkenmvr12a','port':7538,'max_buffer':350*MB, 'logname':'NUL12MV',
                              'norestart':'INQ', 'noupdown':'efb', 'inq_ignore' : 'jon',
                              'library':'null1.library_manager', 'device':'/dev/null',    'driver':'NullDriver',
                              'mc_device':'-1', 'media_changer':'null1.media_changer', }

configdict['null13.mover'] = { 'host':'stkenmvr13a', 'data_ip':'stkenmvr13a','port':7539,'max_buffer':350*MB, 'logname':'NUL13MV',
                              'norestart':'INQ', 'noupdown':'efb', 'inq_ignore' : 'jon',
                              'library':'null1.library_manager', 'device':'/dev/null',    'driver':'NullDriver',
                              'mc_device':'-1', 'media_changer':'null1.media_changer', }

configdict['null14.mover'] = { 'host':'stkenmvr14a', 'data_ip':'stkenmvr14a','port':7542,'max_buffer':350*MB, 'logname':'NUL14MV',
                              'norestart':'INQ', 'noupdown':'efb', 'inq_ignore' : 'jon',
                              'library':'null1.library_manager', 'device':'/dev/null',    'driver':'NullDriver',
                              'mc_device':'-1', 'media_changer':'null1.media_changer', }

configdict['eagle11.mover'] = { 'host':'stkenmvr1a', 'data_ip':'stkenmvr1a','port':7550, 'logname':'EA11MV',
                                'statistics_path': '/tmp/enstore/enstore/EA11MV.stat', 

                                'norestart':'INQ',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,'compression':0,
                                'check_written_file': mvr_check_f,
                                'max_buffer':100*MB, 'max_rate': s9840_rate, 'mount_delay':5,
                                'library':'eagle.library_manager', 'device':'/dev/rmt/tps0d1n',   'driver':'FTTDriver',
                                'mc_device':'0,0,10,0', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                                'syslog_entry':low_level_diag_pattern,
                                'send_stats':1,
}

configdict['eagle12.mover'] = { 'host':'stkenmvr1a', 'data_ip':'stkenmvr1b','port':7551, 'logname':'EA12MV',
                                'statistics_path': '/tmp/enstore/enstore/EA12MV.stat',
                                'norestart':'INQ',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,'compression':0,
                                'check_written_file': mvr_check_f,
                                'max_buffer':100*MB, 'max_rate': s9840_rate, 'mount_delay':5,
                                'library':'eagle.library_manager', 'device':'/dev/rmt/tps3d1n',   'driver':'FTTDriver',
                                'mc_device':'0,0,10,1', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                                'syslog_entry':low_level_diag_pattern,
                                'send_stats':1,}

configdict['eagle21.mover'] = { 'host':'stkenmvr2a', 'data_ip':'stkenmvr2a','port':7552, 'logname':'EA21MV',
                                'statistics_path': '/tmp/enstore/enstore/EA21MV.stat',
                                'norestart':'INQ',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,'compression':0,
                                'check_written_file': mvr_check_f,
                                'max_buffer':100*MB, 'max_rate': s9840_rate, 'mount_delay':5,
                                'library':'eagle.library_manager', 'device':'/dev/rmt/tps0d1n',   'driver':'FTTDriver',
                                'mc_device':'0,0,10,2', 'media_changer':'stk.media_changer', 'do_cleaning':'No', 'log_state':1, 'send_stats':1,}

configdict['eagle22.mover'] = { 'host':'stkenmvr2a', 'data_ip':'stkenmvr2b','port':7553, 'logname':'EA22MV',
                                'statistics_path': '/tmp/enstore/enstore/EA22MV.stat',
                                'norestart':'INQ',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,'compression':0,
                                'check_written_file': mvr_check_f,
                                'max_buffer':100*MB, 'max_rate': s9840_rate, 'mount_delay':5,
                                'library':'eagle.library_manager', 'device':'/dev/rmt/tps3d1n',   'driver':'FTTDriver',
                                'mc_device':'0,0,10,3', 'media_changer':'stk.media_changer', 'do_cleaning':'No', 'log_state':1,
                                'syslog_entry':low_level_diag_pattern,'send_stats':1,}

configdict['eagle31.mover'] = { 'host':'stkenmvr3a', 'data_ip':'stkenmvr3a','port':7554,'logname':'EA31MV',
                                'statistics_path': '/tmp/enstore/enstore/EA31MV.stat',
                                'norestart':'INQ',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,'compression':0,
                                'max_buffer':100*MB,'max_rate': s9840_rate, 'mount_delay':5,
                                'library':'eagle.library_manager', 'device':'/dev/rmt/tps0d1n',   'driver':'FTTDriver',
                                'mc_device':'0,0,10,4', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                                'syslog_entry':low_level_diag_pattern, 'send_stats':1,}

configdict['eagle32.mover'] = { 'host':'stkenmvr3a', 'data_ip':'stkenmvr3b','port':7555, 'logname':'EA32MV',
                                'statistics_path': '/tmp/enstore/enstore/EA32MV.stat',
                                'norestart':'INQ',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,'compression':0,
                                'check_written_file': mvr_check_f,
                                'max_buffer':100*MB, 'max_rate': s9840_rate, 'mount_delay':5,
                                'library':'eagle.library_manager', 'device':'/dev/rmt/tps3d1n',   'driver':'FTTDriver',
                                'mc_device':'0,0,10,5', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                                'syslog_entry':low_level_diag_pattern, 'send_stats':1,}

configdict['eagle41.mover'] = { 'host':'stkenmvr4a', 'data_ip':'stkenmvr4a','port':7556, 'logname':'EA41MV',
                                'statistics_path': '/tmp/enstore/enstore/EA41MV.stat',
                                'norestart':'INQ',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,'compression':0,
                                'check_written_file': mvr_check_f,
                                'max_buffer':100*MB, 'max_rate': s9840_rate, 'mount_delay':5,
                                'library':'eagle.library_manager',
                                'device':'/dev/rmt/tps0d1n',   'driver':'FTTDriver',
                                'mc_device':'0,0,10,6', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                                'syslog_entry':low_level_diag_pattern,
                                'send_stats':1,}

configdict['eagle42.mover'] = { 'host':'stkenmvr4a', 'data_ip':'stkenmvr4b','port':7557, 'logname':'EA42MV',
                                'statistics_path': '/tmp/enstore/enstore/EA42MV.stat',
                                'norestart':'INQ',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,'compression':0,
                                'check_written_file': mvr_check_f,
                                'max_buffer':100*MB, 'max_rate': s9840_rate, 'mount_delay':5,
                                'library':'eagle.library_manager', 'device':'/dev/rmt/tps3d1n',   'driver':'FTTDriver',
                                'mc_device':'0,0,10,7', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                                'syslog_entry':low_level_diag_pattern,
                                'send_stats':1,}

configdict['994051.mover'] = { 'host':'stkenmvr5a', 'data_ip':'stkenmvr5a','port':7558, 'logname':'BE51MV',
                               'statistics_path': '/tmp/enstore/enstore/BE51MV.stat',
                               'norestart':'INQ',
                               'max_consecutive_failures': mvr_max_consecutive_failures,
                               'max_failures': mvr_max_failures,'compression':0,
                               'check_written_file': mvr_check_f,
                               'max_buffer':100*MB, 'max_rate': s9940_rate, 'mount_delay':15,'update_interval':5,
                               'library':'9940.library_manager', 'device':'/dev/rmt/tps0d1n',   'driver':'FTTDriver',
                               'mc_device':'0,0,10,8', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                               'syslog_entry':low_level_diag_pattern,
                               'send_stats':1,}

configdict['994052.mover'] = { 'host':'stkenmvr5a', 'data_ip':'stkenmvr5b','port':7559, 'logname':'BE52MV',
                               'statistics_path': '/tmp/enstore/enstore/BE52MV.stat',
                               'norestart':'INQ',
                               'max_consecutive_failures': mvr_max_consecutive_failures,
                               'max_failures': mvr_max_failures,'compression':0,
                               'check_written_file': mvr_check_f,
                               'max_buffer':100*MB, 'max_rate': s9940_rate, 'mount_delay':15,'update_interval':5,
                               'library':'9940.library_manager', 'device':'/dev/rmt/tps3d1n',   'driver':'FTTDriver',
                               'mc_device':'0,0,10,9', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                               'syslog_entry':low_level_diag_pattern,
                               'send_stats':1,}

configdict['994061.mover'] = { 'host':'stkenmvr6a', 'data_ip':'stkenmvr6a','port':7570, 'logname':'BE61MV',
                               'statistics_path': '/tmp/enstore/enstore/BE61MV.stat',
                               'norestart':'INQ',
                               'max_consecutive_failures': mvr_max_consecutive_failures,
                               'max_failures': mvr_max_failures,'compression':0,
                               'check_written_file': mvr_check_f,
                               'max_buffer':100*MB, 'max_rate': s9940_rate, 'mount_delay':15,'update_interval':5,
                               'library':'9940.library_manager', 'device':'/dev/rmt/tps0d1n',   'driver':'FTTDriver',
                               'mc_device':'0,0,10,10', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                               'syslog_entry':low_level_diag_pattern,
                               'send_stats':1,}

configdict['994062.mover'] = { 'host':'stkenmvr6a', 'data_ip':'stkenmvr6b','port':7571, 'logname':'BE62MV',
                               'statistics_path': '/tmp/enstore/enstore/BE62MV.stat',
                               'norestart':'INQ',
                               'max_consecutive_failures': mvr_max_consecutive_failures,
                               'max_failures': mvr_max_failures,'compression':0,
                               'check_written_file': mvr_check_f,
                               'max_buffer':100*MB, 'max_rate': s9940_rate, 'mount_delay':15,'update_interval':5,
                               'library':'9940.library_manager', 'device':'/dev/rmt/tps3d1n',   'driver':'FTTDriver',
                               'mc_device':'0,0,10,11', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                               'syslog_entry':low_level_diag_pattern,
                               'send_stats':1,}

configdict['994071.mover'] = { 'host':'stkenmvr7a', 'data_ip':'stkenmvr7a','port':7572, 'logname':'BE71MV',
                               'statistics_path': '/tmp/enstore/enstore/BE71MV.stat',
                               'norestart':'INQ',
                               'max_consecutive_failures': mvr_max_consecutive_failures,
                               'max_failures': mvr_max_failures,'compression':0,
                               'check_written_file': mvr_check_f,
                               'max_buffer':350*MB, 'max_rate': s9940_rate, 'mount_delay':15,'update_interval':5,
                               'library':'9940.library_manager', 'device':'/dev/rmt/tps0d1n',   'driver':'FTTDriver',
                               'mc_device':'0,0,10,12', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                               'syslog_entry':low_level_diag_pattern,
                               'send_stats':1,}

configdict['994081.mover'] = { 'host':'stkenmvr8a', 'data_ip':'stkenmvr8a','port':7573, 'logname':'BE81MV',
                               'statistics_path': '/tmp/enstore/enstore/BE81MV.stat',
                               #'norestart':'INQ', 'noupdown':'seva', 'inq_ignore':'seva',
                               'norestart':'INQ',
                               'max_consecutive_failures': mvr_max_consecutive_failures,
                               'max_failures': mvr_max_failures,'compression':0,
                               'check_written_file': mvr_check_f,
                               'max_buffer':350*MB, 'max_rate': s9940_rate, 'mount_delay':15,'update_interval':5,
                               'library':'9940.library_manager', 'device':'/dev/rmt/tps0d1n',   'driver':'FTTDriver',
                               'mc_device':'0,0,10,13', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                               'syslog_entry':low_level_diag_pattern,
                               'send_stats':1,}

configdict['994091.mover'] = { 'host':'stkenmvr9a', 'data_ip':'stkenmvr9a','port':7574, 'logname':'BE91MV',
                               'statistics_path': '/tmp/enstore/enstore/BE91MV.stat',
                               #'norestart':'INQ', 'noupdown':'seva', 'inq_ignore':'seva',
                               'norestart':'INQ',
                               'max_consecutive_failures': mvr_max_consecutive_failures,
                               'max_failures': mvr_max_failures,'compression':0,
                               'check_written_file': mvr_check_f,
                               'max_buffer':350*MB, 'max_rate': s9940_rate, 'mount_delay':15,'update_interval':5,
                               'library':'9940.library_manager', 'device':'/dev/rmt/tps0d1n',   'driver':'FTTDriver',
                               'mc_device':'0,0,10,14', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                               'syslog_entry':low_level_diag_pattern,
                               'send_stats':1,}

configdict['9940B10.mover'] = { 'host':'stkenmvr10a', 'data_ip':'stkenmvr10a','port':7575, 'logname':'DBT10MV',
                               'statistics_path': '/tmp/enstore/enstore/DBT10MV.stat',
                               'norestart':'INQ',
                               'max_consecutive_failures': mvr_max_consecutive_failures,
                               'max_failures': mvr_max_failures,'compression':0,
                               'check_written_file': b_mvr_check_f,
                               'max_buffer':1300*MB, 'max_rate': s9940b_rate, 'mount_delay':15,'update_interval':5,
                               'library':'CMS-9940B.library_manager', 'device':'/dev/rmt/tps0d0n',   'driver':'FTTDriver',
                               'mc_device':'0,0,10,15', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                                'syslog_entry':low_level_diag_pattern,
                                'send_stats':1,}

configdict['9940B11.mover'] = { 'host':'stkenmvr11a', 'data_ip':'stkenmvr11a','port':7576, 'logname':'DBT11MV',
                               'statistics_path': '/tmp/enstore/enstore/DBT11MV.stat',
                               'norestart':'INQ',
                               'max_consecutive_failures': mvr_max_consecutive_failures,
                               'max_failures': mvr_max_failures,'compression':0,
                               'check_written_file': b_mvr_check_f,
                               'max_buffer':1300*MB, 'max_rate': s9940b_rate, 'mount_delay':15,'update_interval':5,
                               'library':'CMS-9940B.library_manager', 'device':'/dev/rmt/tps0d0n',   'driver':'FTTDriver',
                               'mc_device':'0,0,10,16', 'media_changer':'stk.media_changer', 'do_cleaning':'No',
                               'syslog_entry':low_level_diag_pattern,
                                'send_stats':1,}

##configdict['disk11.mover'] = { 'host':'stkendm1a', 'data_ip':'stkendm1a','port':7540,
##                               'logname':'DSKMV11',
##                               'type':'DiskMover',
##                               'norestart':'INQ',
##                               'max_consecutive_failures': mvr_max_consecutive_failures,
##                               'max_failures': mvr_max_failures,
##                               'compression':0,
##                               'check_written_file': mvr_check_f,
##                               'max_buffer':400*MB, 'max_rate': s9840_rate, 'mount_delay':5,
##                               'library':'disk.library_manager', 'device':'/data1',
##                               'driver':'DiskDriver',
##                               'ip_map':'stkendm1a','inq_ignore':'sasha',
##                               'noupdown':'jon',
##                               }
##configdict['disk21.mover'] = { 'host':'stkendm2a', 'data_ip':'stkendm2a','port':7541,
##                               'logname':'DSKMV21',
##                               'type':'DiskMover',
##                               'norestart':'INQ',
##                               'max_consecutive_failures': mvr_max_consecutive_failures,
##                               'max_failures': mvr_max_failures,
##                               'compression':0,
##                               'check_written_file': mvr_check_f,
##                               'max_buffer':400*MB, 'max_rate': s9840_rate, 'mount_delay':5,
##                               'library':'disk.library_manager', 'device':'/data1',
##                               'driver':'DiskDriver',
##                               'ip_map':'stkendm2a','inq_ignore':'sasha',
##                               'noupdown':'jon',
##                               }


"""
From cgw@fnal.gov Thu Jul  6 22:34:19 2000
Date: Thu, 06 Jul 2000 16:09:51 -0500 (CDT)
From: Charles G Waldman <cgw@fnal.gov>
To: bakken@fnal.gov
Subject: V2 mover configuration


These are all the keys that the mover cares about:

host (string) REQUIRED

port (int) REQUIRED

logname (string) OPTIONAL - defaults to mover name

do_eject (string) OPTIONAL - defaults to 'yes', override by setting
                    "no" or "No" (or anything starting with N or n)

do_cleaning (string) OPTIONAL - defaults to 'yes', override by setting
                    "no" or "No" (or anything starting with N or n)
                    This only controls automatic cleaning.  enstore mov --clean-drive
                    will always work, whether this is set or not.

mc_device (string) not needed for NULL movers; required otherwise

min_buffer (int)  OPTIONAL minimum amount of memory to allocate for
                      buffering - defaults to 8MB

max_buffer (int)  OPTIONAL maximum amount of memory to allocate for
                      buffering - defaults to 64MB

max_rate (float) OPTIONAL maximum sustained transfer rate for writes
            This is used to calculate optimal buffer size.  It does not need to
            be exact.

device (string) REQUIRED pathname to the UNIX tape device
                         for NULL movers make this /dev/null

dismount_delay (int) OPTIONAL delayed dismount value to use when none
                     specified by the client.  Also, the client cannot
                     reduce this amount - they can ask for longer
                     dismount delay, but this value is a minimum.
                     Defaults to 60 seconds.
                     Set to negative value to get "infinite" dismount
                     delay.
mount_delay (int) OPTIONAL number of seconds to wait after media
                  changer mount completes, before trying to open
                  device. Default is 15 for FTT driver, 0 for NULL
                  driver

library (string or list):  REQUIRED.  Who are we working for?  One or
                  more library manager names.

driver (string): REQUIRED.  Currently must be 'FTTDriver' or
                 'NullDriver', or else mover will complain at startup.
                 If we need a disk mover, this would be easy to hack
                 together; doesn't seem too useful though.

max_consecutive_failures: type int, default 2
                          Mover will declare itself "broken" if this
                          many successive transfers fail, and the
                          error was not ENCP_GONE
      
max_failures: type int, default 3
              Mover will declare itself "broken" if this many
              transfers fail within failure_interval (see below).
              Again, ENCP_GONE errors do not count

failure_interval: type int, default 3600 (one hour)
                  Interval for above.  
"""

