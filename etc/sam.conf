#!/usr/bin/env python

# $Id$

KB=1024
MB=KB*KB
GB=KB*MB

mam1_rate =   2.8 * MB
dlt_rate =    5.1 * MB
mam2_rate =  11.5 * MB
null_rate =  11.5 * MB
ait2_rate =   5.8 * MB

mvr_max_consecutive_failures=3

mvr_max_failures=5

mvr_check_f = 30

vol_max_noaccess_cnt=4

configdict = {}

configdict['system'] = { 'allowed_down' : {'log_server' :           [1,10],
                                           'alarm_server' :         [1,10],
                                           'configuration_server' : [1,10],
                                           'file_clerk' :           [1,10],
                                           'inquisitor' :           [3,30],
                                           'volume_clerk' :         [1,10],
                                           'library_manager' :      [2,20],
                                           'media_changer' :        [2,10],
                                           'default' :              [1,20] }}

configdict['quotas'] = {'enabled' : 'no', }

configdict['blocksizes'] = { '8MM'       : 131072,
                             'DECDLT'    : 131072,
                             'null'      : 131072 }

configdict['database']     = { 'db_dir':'/diskb/enstore-database', 'jou_dir':'/diska/enstore-journal' }

configdict['inventory']    = { 'inventory_dir'        : '/diskc/db-inventory',
                               'inventory_tmp_dir'    : '/diskc/db-inventory/tmp',
                               'inventory_extract_dir': '/diskc/db-inventory/extract',
                               'inventory_rcp_dir'    : 'd0ensrv2:/fnal/ups/prd/www_pages/enstore/tape_inventory' }

configdict['ratekeeper']   = { 'host'             : 'd0ensrv2',                                      # node ratekeeper is running on
                               'port'             : 55511,                                           # port ratekeeper is running on
                               'event_relay_host' : 'd0ensrv2.fnal.gov',                             # node event relay is running on
                               'logname'          : 'RATSRV',                                        # logname
                               'dir'              : '/diska/ratekeeper/',                            # directory to write rates to
                               'tmp'              : '/diska/ratekeeper/tmp/',                        # temp directory used
                               'nodes'            : {'d0': ('d0ensrv2.fnal.gov','d0en'),             # key is shortname...
                                                     'stk':('stkensrv2.fnal.gov','stken')},          # value is 'node','name'
                               'gif'              : '/local/ups/prd/www_pages/enstore/*.rates.gif' } # plot output

# too many name server failures - use the numeric ip - 131.225.164.22 is d0ensrv2
configdict['backup']       = { 'host':'131.225.164.23', 'dir':'/diska/enstore-backup', 'extract_dir':'/diska/check-db-tmp' }

configdict['event_relay']  = { 'host':'d0ensrv2', 'port':55510 }
configdict['file_clerk']   = { 'host':'d0ensrv1', 'port':7501, 'logname':'FILSRV','norestart':'INQ', }
configdict['volume_clerk'] = { 'host':'d0ensrv1', 'port':7502, 'logname':'VOLSRV',
                               'norestart':'INQ', 'max_noaccess_cnt' : vol_max_noaccess_cnt }
configdict['alarm_server'] = { 'host':'d0ensrv2', 'port':7503 ,'logname':'ALMSRV' }
configdict['log_server']   = { 'host':'d0ensrv2', 'port':7504, 'log_file_path':'/diska/enstore-log' }

configdict['inquisitor']   = { 'host':'d0ensrv2', 'port':7505, 'logname':'INQSRV',
                               'alive_rcv_timeout': 20, 'alive_retries':1,
                               'refresh': 3600,
                               'html_file':'/local/ups/prd/www_pages/enstore/',
                               'http_log_file_path':'/enstore/log/',
                               'www_host':'http://d0ensrv2.fnal.gov:',
                               'max_encp_lines': 250,
			       'user_log_dirs' : {'AML/2 Logs'                    :'/enstore/aml2log.html',
                                                  'D0En Cluster SDR Info'         :'/enstore/SDR.html',
                                                  'D0En Cluster SEL Info'         :'/enstore/SEL.html',
                                                  'D0En Cluster Console Logs'     :'/enstore/CONSOLES.html',
                                                  'D0En Internode Rates'          :'/enstore/quickcheck.eepro100.html',
                                                  'D0En Cluster UDP Clogup Info'  :'/enstore//UDPclog.html',
                                                  '6509 BigA Switch Info'         :'/enstore//biga.html',
                                                  'X Physical Cabling Layout'     :'/enstore/CABLES.html',
                                                  'Enstore Node Information'      :'/enstore/nodeinfo.html',
                                                  'Active Monitor Log'            :'/enstore/active_monitor.html',
                                                  ' FAILED M2 Transfers last week':'/enstore/log/transfer_failed.txt ',
                                                  'PNFS Counters'                 :'/enstore/pnfsRate.html',
                                                  'PNFS Export List'              :'/enstore/pnfsExports.html'},
                               'default_alive_interval': 30,
			       'default_hung_interval' : 150,
                               'hung_rcv_timeout' : {'sammam.library_manager' : 240}}

configdict['monitor']   = { 'html_dir'         : '/local/ups/prd/www_pages/enstore/',
                            'html_gen_host'    : 'd0ensrv2',
                            'refresh'          : 3600,
                            'veto_nodes'       : {'airedale': 'not in system my reason'},
                            'block_size'       : 65536,
                            'block_count'      : 160,
                            'default_timeout'  : 3 }

configdict['www_server'] = { 'system_tag' : "D0EN: Enstore for the D0/RunII AML/2",
                             'media' : 'ADIC AML/2',
                             'inq_ignore' : 1 }



configdict['samnull.library_manager'] = { 'host':'d0ensrv4', 'port':7511, 'logname':'NULLBM',
                                          'norestart':'INQ', }
###configdict['sama2.library_manager']   = { 'host':'d0ensrv4', 'port':7512, 'logname':'A2LBM',
###                                          'norestart':'INQ',
###                                          'CleanTapeVolumeFamily': 'EnsV1.CleanTapeFileFamily.noWrapper' }
configdict['testa2.library_manager'] =  { 'host':'d0ensrv4', 'port':7513, 'logname':'TA2LM',
                                          'norestart':'INQ','noupdown':'jon', 'inq_ignore':'efb' ,
                                          'CleanTapeVolumeFamily': 'EnsV1.CleanTapeFileFamily.noWrapper' }
configdict['sammam.library_manager']  = { 'host':'d0ensrv4', 'port':7514, 'logname':'MAMLBM',
                                          'norestart':'INQ',
                                          'CleanTapeVolumeFamily': 'EnsV1.CleanTapeFileFamily.noWrapper' }
configdict['test.library_manager'] =    { 'host':'d0ensrv4', 'port':7517, 'logname':'TSTLM',
                                          'norestart':'INQ','noupdown':'jon', 'inq_ignore':'efb' ,
                                          'CleanTapeVolumeFamily': 'EnsV1.CleanTapeFileFamily.noWrapper' }
configdict['samm2.library_manager']   = { 'host':'d0ensrv4', 'port':7515, 'logname':'M2LBM',
                                          'norestart':'INQ',
                                          'CleanTapeVolumeFamily': 'EnsV1.CleanTapeFileFamily.noWrapper' }
configdict['testm2.library_manager'] =  { 'host':'d0ensrv4', 'port':7518, 'logname':'TM2LM',
                                          'norestart':'INQ','noupdown':'jon', 'inq_ignore':'efb',
                                          'CleanTapeVolumeFamily': 'EnsV1.CleanTapeFileFamily.noWrapper' }



configdict['samnull.media_changer']   = { 'host':'d0ensrv4', 'port':7520, 'logname':'NULLMC', 'type':'RDD_MediaLoader',  'norestart':'INQ', }
configdict['aml2r2.media_changer']    = { 'host':'d0ensrv4',   'port':7521, 'logname':'AML2R2', 'type':'AML2_MediaLoader', 'norestart':'INQ',
                                          'RobotArm':'R2', 'IdleTimeHome':30000000, 'IOBoxMedia':{'ACI_8MM':['E06','E07','E08'],'ACI_DECDLT':['E05']},
                                          'DriveCleanTime':{'DE':[60,1],'DC':[60,1],'DM':[60,1]} }
configdict['aml2r1.media_changer']    = { 'host':'d0ensrv4',   'port':7523, 'logname':'AML2R1', 'type':'AML2_MediaLoader', 'norestart':'INQ',
                                          'RobotArm':'R1', 'IdleTimeHome':30000000, 'IOBoxMedia':{'ACI_8MM':['E02','E03','E04'],'ACI_DECDLT':['E01']},
                                          'DriveCleanTime':{'DE':[60,1],'DC':[60,1],'DM':[60,1]} }



configdict['samnull1a.mover'] = { 'host':'d0enmvr1a', 'data_ip':'d0enmvr1a','port':7530, 'logname':'NL1aMV',
                                  'max_buffer' : 200*MB,'max_rate': null_rate,
                                  'library':'samnull.library_manager', 'device':'/dev/null', 'driver':'NullDriver',
                                  'mc_device':'-1', 'media_changer':'samnull.media_changer', 'norestart':'INQ' }

configdict['samnull1b.mover'] = { 'host':'d0enmvr1a', 'data_ip':'d0enmvr1b','port':7531, 'logname':'NL1bMV',
                                  'max_buffer' : 200*MB,'max_rate': null_rate,
                                  'library':'samnull.library_manager', 'device':'/dev/null', 'driver':'NullDriver',
                                  'mc_device':'-1', 'media_changer':'samnull.media_changer', 'norestart':'INQ' }

configdict['samnull2a.mover'] = { 'host':'d0enmvr2a', 'data_ip':'d0enmvr2a','port':7532, 'logname':'NL2aMV',
                                  'max_buffer' : 200*MB,'max_rate': null_rate,
                                  'library':'samnull.library_manager', 'device':'/dev/null', 'driver':'NullDriver',
                                  'mc_device':'-1', 'media_changer':'samnull.media_changer', 'norestart':'INQ' }

configdict['samnull2b.mover'] = { 'host':'d0enmvr2a', 'data_ip':'d0enmvr2b','port':7533, 'logname':'NL2bMV',
                                  'max_buffer' : 200*MB,'max_rate': null_rate,
                                  'library':'samnull.library_manager', 'device':'/dev/null', 'driver':'NullDriver',
                                  'mc_device':'-1', 'media_changer':'samnull.media_changer', 'norestart':'INQ' }

configdict['samnull3a.mover'] = { 'host':'d0enmvr3a', 'data_ip':'d0enmvr3a','port':7534, 'logname':'NL3aMV',
                                  'max_buffer' : 200*MB,'max_rate': null_rate,
                                  'library':'samnull.library_manager', 'device':'/dev/null', 'driver':'NullDriver',
                                  'mc_device':'-1', 'media_changer':'samnull.media_changer', 'norestart':'INQ' }

configdict['samnull3b.mover'] = { 'host':'d0enmvr3a', 'data_ip':'d0enmvr3b','port':7535, 'logname':'NL3bMV',
                                  'max_buffer' : 200*MB,'max_rate': null_rate,
                                  'library':'samnull.library_manager', 'device':'/dev/null', 'driver':'NullDriver',
                                  'mc_device':'-1', 'media_changer':'samnull.media_changer', 'norestart':'INQ' }

configdict['samnull19a.mover'] = { 'host':'d0enmvr19a', 'data_ip':'d0enmvr19a','port':7536, 'logname':'N19aMV',
                                   'max_buffer' : 200*MB,'max_rate': null_rate,
                                   'library':'samnull.library_manager', 'device':'/dev/null', 'driver':'NullDriver',
                                   'mc_device':'-1', 'media_changer':'samnull.media_changer', 'norestart':'INQ' }

configdict['samnull19b.mover'] = { 'host':'d0enmvr19a', 'data_ip':'d0enmvr19b','port':7537, 'logname':'N20bMV',
                                   'max_buffer' : 200*MB,'max_rate': null_rate,
                                   'library':'samnull.library_manager', 'device':'/dev/null', 'driver':'NullDriver',
                                   'mc_device':'-1', 'media_changer':'samnull.media_changer', 'norestart':'INQ' }

configdict['samnull20a.mover'] = { 'host':'d0enmvr20a', 'data_ip':'d0enmvr20a','port':7538, 'logname':'N20aMV',
                                   'max_buffer' : 200*MB,'max_rate': null_rate,
                                   'library':'samnull.library_manager', 'device':'/dev/null', 'driver':'NullDriver',
                                   'mc_device':'-1', 'media_changer':'samnull.media_changer', 'norestart':'INQ' }

configdict['samnull20b.mover'] = { 'host':'d0enmvr20a', 'data_ip':'d0enmvr20b','port':7539, 'logname':'N20bMV',
                                   'max_buffer' : 200*MB,'max_rate': null_rate,
                                   'library':'samnull.library_manager', 'device':'/dev/null', 'driver':'NullDriver',
                                   'mc_device':'-1', 'media_changer':'samnull.media_changer', 'norestart':'INQ' }


configdict['DC03MAM.mover']  = { 'host':'d0enmvr18a', 'data_ip':'d0enmvr18a', 'port':7552, 'logname':'DC03MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps5d1n', 'driver':'FTTDriver',
                                 'mc_device':'DC03', 'media_changer':'aml2r1.media_changer', 'norestart':'INQ' }

configdict['DC04MAM.mover']  = { 'host':'d0enmvr18a', 'data_ip':'d0enmvr18a', 'port':7553, 'logname':'DC04MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps4d2n', 'driver':'FTTDriver',
                                 'mc_device':'DC04', 'media_changer':'aml2r1.media_changer', 'norestart':'INQ' }

configdict['DC05MAM.mover']  = { 'host':'d0enmvr18a', 'data_ip':'d0enmvr18b', 'port':7554, 'logname':'DC05MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps1d3n', 'driver':'FTTDriver',
                                 'mc_device':'DC05', 'media_changer':'aml2r1.media_changer', 'norestart':'INQ' }

configdict['DC06MAM.mover']  = { 'host':'d0enmvr18a', 'data_ip':'d0enmvr18b', 'port':7555, 'logname':'DC06MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps0d4n', 'driver':'FTTDriver',
                                 'mc_device':'DC06', 'media_changer':'aml2r1.media_changer', 'norestart':'INQ' }

configdict['DC15MAM.mover']  = { 'host':'d0enmvr5a', 'data_ip':'d0enmvr5a', 'port':7556, 'logname':'DC15MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps0d4n', 'driver':'FTTDriver',
                                 'mc_device':'DC15', 'media_changer':'aml2r2.media_changer', 'norestart':'INQ' }

configdict['DC16MAM.mover']  = { 'host':'d0enmvr5a', 'data_ip':'d0enmvr5a', 'port':7557, 'logname':'DC16MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps1d6n', 'driver':'FTTDriver',
                                 'mc_device':'DC16', 'media_changer':'aml2r2.media_changer', 'norestart':'INQ' }

configdict['DC17MAM.mover']  = { 'host':'d0enmvr4a', 'data_ip':'d0enmvr4a', 'port':7558, 'logname':'DC17MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps0d5n', 'driver':'FTTDriver',
                                 'mc_device':'DC17', 'media_changer':'aml2r2.media_changer', 'norestart':'INQ' }

configdict['DC20MAM.mover']  = { 'host':'d0enmvr11a','data_ip':'d0enmvr11a','port':7559, 'logname':'DC20MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['test.library_manager'], 'device':'/dev/rmt/tps0d1n', 'driver':'FTTDriver',
                                 'mc_device':'DC20', 'media_changer':'aml2r2.media_changer', 'norestart':'INQ' }

configdict['DC21MAM.mover']  = { 'host':'d0enmvr11a','data_ip':'d0enmvr11a','port':7560, 'logname':'DC21MV',
                                 'noupdown': 'seva', 'inq_ignore': 'seva',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['test.library_manager'], 'device':'/dev/rmt/tps1d1n', 'driver':'FTTDriver',
                                 'mc_device':'DC21', 'media_changer':'aml2r2.media_changer',  'norestart':'INQ' }

configdict['DC22MAM.mover']  = { 'host':'d0enmvr11a','data_ip':'d0enmvr11b','port':7561, 'logname':'DC22MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps4d1n', 'driver':'FTTDriver',
                                 'mc_device':'DC22', 'media_changer':'aml2r2.media_changer', 'norestart':'INQ' }

configdict['DC23MAM.mover']  = { 'host':'d0enmvr11a','data_ip':'d0enmvr11b','port':7562, 'logname':'DC23MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps5d1n', 'driver':'FTTDriver',
                                 'mc_device':'DC23', 'media_changer':'aml2r2.media_changer', 'norestart':'INQ' }

configdict['DC24MAM.mover']  = { 'host':'d0enmvr9a', 'data_ip':'d0enmvr9a', 'port':7563, 'logname':'DC24MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps0d1n', 'driver':'FTTDriver',
                                 'mc_device':'DC24', 'media_changer':'aml2r2.media_changer', 'norestart':'INQ' }

configdict['DC25MAM.mover']  = { 'host':'d0enmvr9a', 'data_ip':'d0enmvr9a', 'port':7564, 'logname':'DC25MV',
                                 'noupdown': 'seva', 'inq_ignore': 'seva',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['test.library_manager'], 'device':'/dev/rmt/tps1d1n', 'driver':'FTTDriver',
                                 'mc_device':'DC25', 'media_changer':'aml2r2.media_changer', 'norestart':'INQ' }

configdict['DC26MAM.mover']  = { 'host':'d0enmvr9a', 'data_ip':'d0enmvr9b', 'port':7565, 'logname':'DC26MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps4d1n', 'driver':'FTTDriver',
                                 'mc_device':'DC26', 'media_changer':'aml2r2.media_changer', 'norestart':'INQ' }

configdict['DC27MAM.mover']  = { 'host':'d0enmvr9a', 'data_ip':'d0enmvr9b', 'port':7566, 'logname':'DC27MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps5d1n', 'driver':'FTTDriver',
                                 'mc_device':'DC27', 'media_changer':'aml2r2.media_changer', 'norestart':'INQ' }

configdict['DC28MAM.mover']  = { 'host':'d0enmvr5a', 'data_ip':'d0enmvr5b', 'port':7567, 'logname':'DC28MV',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['sammam.library_manager'], 'device':'/dev/rmt/tps4d1n', 'driver':'FTTDriver',
                                 'mc_device':'DC28', 'media_changer':'aml2r2.media_changer', 'norestart':'INQ' }

configdict['DC29MAM.mover']  = { 'host':'d0enmvr5a', 'data_ip':'d0enmvr5b','port':7568, 'logname':'DC29MV',
                                 'noupdown': 'seva', 'inq_ignore': 'seva',
                                 'max_consecutive_failures': mvr_max_consecutive_failures,
                                 'max_failures': mvr_max_failures,
                                 'max_buffer':80*MB, 'max_rate': mam1_rate, 'mount_delay':30,
                                 'library':['test.library_manager'], 'device':'/dev/rmt/tps5d1n', 'driver':'FTTDriver',
                                 'mc_device':'DC29', 'media_changer':'aml2r2.media_changer',  'norestart':'INQ' }


#offline configdict['DI36M2.mover'] = {  'host': 'd0enmvr12a', 'data_ip':'d0enmvr12a','port': 7569, 'logname': 'DI36MV',
#offline                                 'max_consecutive_failures': mvr_max_consecutive_failures,
#offline                                 'max_failures': mvr_max_failures,
#offline                                 'check_written_file': mvr_check_f,
#offline                                 'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
#offline                                 'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
#offline                                 'mc_device':'DI36', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

#offline configdict['DI37M2.mover'] = {  'host': 'd0enmvr12a', 'data_ip':'d0enmvr12b','port': 7570, 'logname': 'DI37MV',
#offline                                 'max_consecutive_failures': mvr_max_consecutive_failures,
#offline                                 'max_failures': mvr_max_failures,
#offline                                 'check_written_file': mvr_check_f,
#offline                                 'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
#offline                                 'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
#offline                                 'mc_device':'DI37', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

#offline configdict['DI38M2.mover'] = {  'host': 'd0enmvr13a', 'data_ip':'d0enmvr13a','port': 7571, 'logname': 'DI38MV',
#offline                                 'max_consecutive_failures': mvr_max_consecutive_failures,
#offline                                 'max_failures': mvr_max_failures,
#offline                                 'check_written_file': mvr_check_f,
#offline                                 'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
#offline                                 'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
#offline                                 'mc_device':'DI38', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

#offline configdict['DI39M2.mover'] = {  'host': 'd0enmvr13a', 'data_ip':'d0enmvr13b','port': 7572, 'logname': 'DI39MV',
#offline                                 'max_consecutive_failures': mvr_max_consecutive_failures,
#offline                                 'max_failures': mvr_max_failures,
#offline                                 'check_written_file': mvr_check_f,
#offline                                 'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
#offline                                 'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
#offline                                 'mc_device':'DI39', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

#offline configdict['DI40M2.mover'] = {  'host': 'd0enmvr14a', 'data_ip':'d0enmvr14a','port': 7573, 'logname': 'DI40MV',
#offline                                 'max_consecutive_failures': mvr_max_consecutive_failures,
#offline                                 'max_failures': mvr_max_failures,
#offline                                 'check_written_file': mvr_check_f,
#offline                                 'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
#offline                                 'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
#offline                                 'mc_device':'DI40', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

#offline configdict['DI41M2.mover'] = {  'host': 'd0enmvr14a', 'data_ip':'d0enmvr14b','port': 7574, 'logname': 'DI41MV',
#offline                                 'max_consecutive_failures': mvr_max_consecutive_failures,
#offline                                 'max_failures': mvr_max_failures,
#offline                                 'check_written_file': mvr_check_f,
#offline                                 'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
#offline                                 'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
#offline                                 'mc_device':'DI41', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

#offline configdict['DI42M2.mover'] = {  'host': 'd0enmvr15a', 'data_ip':'d0enmvr15a','port': 7575, 'logname': 'DI42MV',
#offline                                 'max_consecutive_failures': mvr_max_consecutive_failures,
#offline                                 'max_failures': mvr_max_failures,
#offline                                 'check_written_file': mvr_check_f,
#offline                                 'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
#offline                                 'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
#offline                                 'mc_device':'DI42', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

###configdict['DI43M2.mover'] = {  'host': 'd0enmvr15a', 'data_ip':'d0enmvr15b','port': 7576, 'logname': 'DI43MV',
###                                'noupdown':'jon', 'inq_ignore' : 'jon',
###   taken ait2                   'max_consecutive_failures': mvr_max_consecutive_failures,
###                                'max_failures': mvr_max_failures,
###                                'check_written_file': mvr_check_f,
###                                'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
###                                'library': ['testm2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
###                                'mc_device':'DI43', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

###configdict['DI44M2.mover'] = {  'host': 'd0enmvr16a', 'data_ip':'d0enmvr16a','port': 7577, 'logname': 'DI44MV',
###                                'noupdown':'jon', 'inq_ignore' : 'jon',
###   taken ait2                   'max_consecutive_failures': mvr_max_consecutive_failures,
###                                'max_failures': mvr_max_failures,
###                                'check_written_file': mvr_check_f,
###                                'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
###                                'library': ['testm2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
###                                'mc_device':'DI44', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

###configdict['DI45M2.mover'] = {  'host': 'd0enmvr16a', 'data_ip':'d0enmvr16b','port': 7578, 'logname': 'DI45MV',
###                                'noupdown':'jon', 'inq_ignore' : 'jon',
###  taken ait2                    'max_consecutive_failures': mvr_max_consecutive_failures,
###                                'max_failures': mvr_max_failures,
###                                'noupdown':'jon',
###                                'check_written_file': mvr_check_f,
###                                'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
###                                'library': ['testm2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
###                                'mc_device':'DI45', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }



configdict['DI46M2.mover'] = {  'host': 'd0enmvr17a', 'data_ip':'d0enmvr17a','port': 7579, 'logname': 'DI46MV',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,
                                'check_written_file': mvr_check_f,
                                'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
                                'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
                                'mc_device':'DI46', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

configdict['DI47M2.mover'] = {  'host': 'd0enmvr17a', 'data_ip':'d0enmvr17b','port': 7580, 'logname': 'DI47MV',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,
                                'check_written_file': mvr_check_f,
                                'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
                                'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
                                'mc_device':'DI47', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

#offline configdict['DI48M2.mover'] = {  'host': 'd0enmvr6a', 'data_ip':'d0enmvr6a','port': 7581, 'logname': 'DI48MV',
#offline                                 'max_consecutive_failures': mvr_max_consecutive_failures,
#offline                                 'max_failures': mvr_max_failures,
#offline                                 'check_written_file': mvr_check_f,
#offline                                 'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
#offline                                 'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
#offline                                 'mc_device':'DI48', 'media_changer':'aml2r2.media_changer',  'norestart':'INQ' }

#offline configdict['DI49M2.mover'] = {  'host': 'd0enmvr6a', 'data_ip':'d0enmvr6b','port': 7582, 'logname': 'DI49MV',
#offline                                 'max_consecutive_failures': mvr_max_consecutive_failures,
#offline                                 'max_failures': mvr_max_failures,
#offline                                 'check_written_file': mvr_check_f,
#offline                                 'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
#offline                                 'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
#offline                                 'mc_device':'DI49', 'media_changer':'aml2r2.media_changer',  'norestart':'INQ' }

configdict['DI50M2.mover'] = {  'host': 'd0enmvr7a', 'data_ip':'d0enmvr7a','port': 7583, 'logname': 'DI50MV',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,
                                'check_written_file': mvr_check_f,
                                'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
                                'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
                                'mc_device':'DI50', 'media_changer':'aml2r2.media_changer',  'norestart':'INQ' }

configdict['DI51M2.mover'] = {  'host': 'd0enmvr7a', 'data_ip':'d0enmvr7b','port': 7584, 'logname': 'DI51MV',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,
                                'check_written_file': mvr_check_f,
                                'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
                                'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
                                'mc_device':'DI51', 'media_changer':'aml2r2.media_changer',  'norestart':'INQ' }

###configdict['DI52M2.mover'] = {  'host': 'd0enmvr8a', 'data_ip':'d0enmvr8a','port': 7585, 'logname': 'DI52MV',
###                                'noupdown':'jon', 'inq_ignore' : 'jon',
###                                'max_consecutive_failures': mvr_max_consecutive_failures,
###                                'max_failures': mvr_max_failures,
###                                'check_written_file': mvr_check_f,
###                                'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
###                                'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
###                                'mc_device':'DI52', 'media_changer':'aml2r2.media_changer',  'norestart':'INQ' }

configdict['DI53M2.mover'] = {  'host': 'd0enmvr8a', 'data_ip':'d0enmvr8b','port': 7586, 'logname': 'DI53MV',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,
                                'check_written_file': mvr_check_f,
                                'max_buffer' : 200*MB, 'max_rate': mam2_rate,'mount_delay':30,
                                'library': ['samm2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
                                'mc_device':'DI53', 'media_changer':'aml2r2.media_changer',  'norestart':'INQ' }


###configdict['DM07A2.mover'] = {  'host': 'd0enmvr14a', 'data_ip':'d0enmvr14a','port': 7590, 'logname': 'DM07MV',
###                                'noupdown':'jon', 'inq_ignore' : 'jon',
###                                'max_consecutive_failures': mvr_max_consecutive_failures,
###                                'max_failures': mvr_max_failures,
###                                'max_buffer' : 200*MB, 'max_rate': ait2_rate,'mount_delay':30,
###                                'library': ['testa2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
###                                'mc_device':'DM07', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

###configdict['DM08A2.mover'] = {  'host': 'd0enmvr14a', 'data_ip':'d0enmvr14b','port': 7591, 'logname': 'DM08MV',
###                                'noupdown':'jon', 'inq_ignore' : 'jon',
###                                'max_consecutive_failures': mvr_max_consecutive_failures,
###                                'max_failures': mvr_max_failures,
###                                'max_buffer' : 200*MB, 'max_rate': ait2_rate,'mount_delay':30,
###                                'library': ['testa2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
###                                'mc_device':'DM08', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

###configdict['DM09A2.mover'] = {  'host': 'd0enmvr15a', 'data_ip':'d0enmvr15a','port': 7592, 'logname': 'DM09MV',
###                                'noupdown':'jon', 'inq_ignore' : 'jon',
###                                'max_consecutive_failures': mvr_max_consecutive_failures,
###                                'max_failures': mvr_max_failures,
###                                'max_buffer' : 200*MB, 'max_rate': ait2_rate,'mount_delay':30,
###                                'library': ['testa2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
###                                'mc_device':'DM09', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

###configdict['DM10A2.mover'] = {  'host': 'd0enmvr15a', 'data_ip':'d0enmvr15b','port': 7593, 'logname': 'DM10MV',
###                                'noupdown':'jon', 'inq_ignore' : 'jon',
###                                'max_consecutive_failures': mvr_max_consecutive_failures,
###                                'max_failures': mvr_max_failures,
###                                'max_buffer' : 200*MB, 'max_rate': ait2_rate,'mount_delay':30,
###                                'library': ['testa2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
###                                'mc_device':'DM10', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

configdict['DM11A2.mover'] = {  'host': 'd0enmvr16a', 'data_ip':'d0enmvr16a','port': 7594, 'logname': 'DM11MV',
                                'noupdown':'jon', 'inq_ignore' : 'jon',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,
                                'max_buffer' : 200*MB, 'max_rate': ait2_rate,'mount_delay':30,
                                'library': ['testa2.library_manager'], 'device' : '/dev/rmt/tps0d1n', 'driver' : 'FTTDriver',
                                'mc_device':'DM11', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }

configdict['DM12A2.mover'] = {  'host': 'd0enmvr16a', 'data_ip':'d0enmvr16b','port': 7595, 'logname': 'DM12MV',
                                'noupdown':'jon', 'inq_ignore' : 'jon',
                                'max_consecutive_failures': mvr_max_consecutive_failures,
                                'max_failures': mvr_max_failures,
                                'max_buffer' : 200*MB, 'max_rate': ait2_rate,'mount_delay':30,
                                'library': ['testa2.library_manager'], 'device' : '/dev/rmt/tps0d2n', 'driver' : 'FTTDriver',
                                'mc_device':'DM12', 'media_changer':'aml2r1.media_changer',  'norestart':'INQ' }



"""
From cgw@fnal.gov Thu Jul  6 22:34:19 2000
Date: Thu, 06 Jul 2000 16:09:51 -0500 (CDT)
From: Charles G Waldman <cgw@fnal.gov>
To: bakken@fnal.gov
Subject: V2 mover configuration


These are all the keys that the mover cares about:

host (string) REQUIRED

port (int) REQUIRED

logname (string) OPTIONAL - defaults to mover name

do_eject (string) OPTIONAL - defaults to 'yes', override by setting
                    "no" or "No" (or anything starting with N or n)

do_cleaning (string) OPTIONAL - defaults to 'yes', override by setting
                    "no" or "No" (or anything starting with N or n)
                    This only controls automatic cleaning.  enstore mov --clean-drive
                    will always work, whether this is set or not.

mc_device (string) not needed for NULL movers; required otherwise

min_buffer (int)  OPTIONAL minimum amount of memory to allocate for
                      buffering - defaults to 8MB

max_buffer (int)  OPTIONAL maximum amount of memory to allocate for
                      buffering - defaults to 64MB

max_rate (float) OPTIONAL maximum sustained transfer rate for writes
            This is used to calculate optimal buffer size.  It does not need to
            be exact.

device (string) REQUIRED pathname to the UNIX tape device
                         for NULL movers make this /dev/null

dismount_delay (int) OPTIONAL delayed dismount value to use when none
                     specified by the client.  Also, the client cannot
                     reduce this amount - they can ask for longer
                     dismount delay, but this value is a minimum.
                     Defaults to 60 seconds.
                     Set to negative value to get "infinite" dismount
                     delay.
mount_delay (int) OPTIONAL number of seconds to wait after media
                  changer mount completes, before trying to open
                  device. Default is 15 for FTT driver, 0 for NULL
                  driver

library (string or list):  REQUIRED.  Who are we working for?  One or
                  more library manager names.

driver (string): REQUIRED.  Currently must be 'FTTDriver' or
                 'NullDriver', or else mover will complain at startup.
                 If we need a disk mover, this would be easy to hack
                 together; doesn't seem too useful though.

max_consecutive_failures: type int, default 2
                          Mover will declare itself "broken" if this
                          many successive transfers fail, and the
                          error was not ENCP_GONE

max_failures: type int, default 3
              Mover will declare itself "broken" if this many
              transfers fail within failure_interval (see below).
              Again, ENCP_GONE errors do not count

failure_interval: type int, default 3600 (one hour)
                  Interval for above.
"""
