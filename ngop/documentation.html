<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.75 [en] (X11; U; Linux 2.2.16-3 i686) [Netscape]">
</head>
<body text="#000066" bgcolor="#DFF0FF" background="enstore.gif">
&nbsp;
<center>
<p><b><font color="#000066"><font size=+4>Enstore Big A Switch Help</font></font></b></center>

<p><br>
<br>
<br>
<br>
<br>
<br>
<p><b><font color="#000066"><font size=+2>Overview</font></font></b>
<p><font color="#000066">The Big A Switch page shows the Enstore MIB (
Management Information Bases) information as a shortcut table. The MIB
information is updated by the enstore Big A Switch agent. The shortcut
table contains the links to the MIB information for each of the MIB groups,
the links to the node information and the link to the information of the
thresholds.</font>
<p><b><font color="#000066"><font size=+2>The&nbsp; requirements of the
Big A Switch agent:</font></font></b>
<ul>
<li>
<font color="#000066">updating MIB by snmpwalk().</font></li>

<li>
<font color="#000066">updating the node dictionaries by self-define functions.</font></li>

<li>
<font color="#000066">updating the html files which can be posted on enstore
web page.</font></li>

<li>
<font color="#000066">checking the MIB such as tcp, udp, ip, icmp, snmp
group objects, checking the node values and sending the events and corresponding
statistics to the NGOP Central Server if any object value reaches the corresponding
threshold.</font></li>
</ul>

<p><br><b><font color="#000066"><font size=+2>The Functions of the MIB
Groups and the Nodes:</font></font></b>
<br>&nbsp;
<ul>
<li>
<font color="#000066">The <i>system</i> group includes configuration information
that pinpoints what the device is, where it is, and who to call when something
goes wrong.</font></li>

<li>
<font color="#000066">The <i>tcp</i> group lets a management application
check up on some TCP configuration value such as the top limit on the number
of concurrent tcp connections that a system can handle.</font></li>

<li>
<font color="#000066">The <i>udp</i> group tracks traffic and errors.</font></li>

<li>
<font color="#000066">The <i>icmp</i> group consists of counts&nbsp; of
every type of incoming and outgoing ICMP message.</font></li>

<li>
<font color="#000066">The <i>snmp</i> group tracks everything and counts
SNMP traffic and errors. Especially, the snmp group tracks the number of
incoming and outgoing gets, sets, responses, and traps, and counts various
errors, such as attempts to read nonexistent variables.</font></li>

<li>
<font color="#000066">The <i>ip</i> group covers the configuration and
management needs of hosts and routers.</font></li>

<li>
<font color="#000066">There are several nodes to be monitored in Big A
Switch. The management information includes configuration information,
the status of the interface, incoming and outgoing traffic statistics,
counts of&nbsp; various kinds of errors, separate counts of broadcast and
multicast traffic, variables that fire off a test and record the test results
and the complete set of physical addresses for which an interface will
absorb traffic.</font></li>
</ul>

<p><br><b><font size=+2>The Thresholds for the Monitored Objects:</font></b>
<br><b><font size=+2></font></b>&nbsp;
<table BORDER COLS=5 WIDTH="100%" NOSAVE >
<tr>
<td>
<center>Node Color</center>
</td>

<td>
<center>Arrow Color</center>
</td>

<td>
<center>State of Node</center>
</td>

<td>
<center>SevLevel of Node</center>
</td>

<td>
<center>Description(Threshold)</center>
</td>
</tr>

<tr>
<td>
<center><font color="#990000">Red</font></center>
</td>

<td>
<center>-</center>
</td>

<td>
<center>&nbsp;<font color="#990000">0 (Bad)</font></center>
</td>

<td>
<center>-</center>
</td>

<td>
<center><font color="#990000">Node is down (Too bad) or value reaches the
red threshold.</font></center>
</td>
</tr>

<tr>
<td>
<center><font color="#009900">Green</font></center>
</td>

<td>
<center><font color="#990000">Red</font></center>
</td>

<td>
<center><font color="#009900">1 (Good)</font></center>
</td>

<td>
<center><font color="#990000">6</font></center>
</td>

<td>&nbsp;</td>
</tr>

<tr>
<td>
<center><font color="#009900">Green</font></center>
</td>

<td>
<center><font color="#3333FF">Blue</font></center>
</td>

<td>
<center><font color="#009900">1 (Good)</font></center>
</td>

<td>
<center><font color="#3333FF">5</font></center>
</td>

<td>
<center><font color="#3333FF">There is an error in the node</font></center>
</td>
</tr>

<tr>
<td>
<center><font color="#009900">Green</font></center>
</td>

<td>
<center><font color="#FF9900">Orange</font></center>
</td>

<td>
<center><font color="#009900">1 (Good)</font></center>
</td>

<td>
<center><font color="#FF9900">4</font></center>
</td>

<td>
<center><font color="#FF9900">Node value reaches the orange threshold.</font></center>
</td>
</tr>

<tr>
<td>
<center><font color="#009900">Green</font></center>
</td>

<td>
<center><font color="#FFFF00">Yellow</font></center>
</td>

<td>
<center><font color="#009900">1 (Good)</font></center>
</td>

<td>
<center><font color="#FFFF00">1</font></center>
</td>

<td>
<center><font color="#FFFF00">Node value reaches the yellow threshold.</font></center>
</td>
</tr>

<tr>
<td>
<center><font color="#009900">Green</font></center>
</td>

<td>
<center>-</center>
</td>

<td>
<center><font color="#009900">1 (Good)</font></center>
</td>

<td>
<center><font color="#009900">0</font></center>
</td>

<td>
<center><font color="#009900">Node works good.</font></center>
</td>
</tr>
</table>

<br>&nbsp;
<p><b><font color="#000066"><font size=+2>Extending the Big A Switch Agent:</font></font></b>
<ul>
<li>
<font color="#000066">If you want to add a new node in Big A Switch to
monitor, the following must be done:</font></li>

<br><font color="#000066">1.go to the file named <i>$ENSTORE_DIR/ngop/node_init.py,</i></font>
<br><font color="#000066">2. add the node key,&nbsp; node NAME,&nbsp; node
PRODuct state,&nbsp; node CABLE number and node ORDER number in the node
dictionary named <i>node_d</i> to initialize the node.</font></ul>

<ul>
<li>
<font color="#000066">If you want to add a group of MIB variables to monitor,
do the following:</font></li>

<br><font color="#000066">1. go to the agent file named <i>$ENSTORE_DIR/ngop/basAgent.py</i>
,</font>
<br><font color="#000066">2. define a list that lists the variables,</font>
<br><font color="#000066">3. call the functions <i>get_mib_info() </i>and
<i>setTable()</i>
to get the MIB information,</font>
<br><font color="#000066">4.save the initiation of the group dictionary
as the offset,</font>
<br><font color="#000066">5.add the group name in the list named <i>meNames</i>,
and</font>
<br><font color="#000066">6.add the corresponding contents of checking&nbsp;
information in the <i>checkNode()</i> function.</font></ul>

<ul>
<li>
<font color="#000066">To run this new configuration agent, do the following
steps:</font></li>

<br>1. setup ngop
<br>2. setenv PYTHONPATH $PYTHONPATH":$NGOP_DIR/ma"
<br>&nbsp;&nbsp;&nbsp; or
<br>&nbsp;&nbsp;&nbsp; export PYTHONPATH=$PYTHONPATH":$NGOP_DIR/ma"
<br>3. python $ENSTORE_DIR/ngop/basAgent.py &amp;</ul>

<hr noshade="1" size="2"><a href="http://www.fnal.gov/pub/disclaim.html">Legal
Notices</a>
</body>
</html>
