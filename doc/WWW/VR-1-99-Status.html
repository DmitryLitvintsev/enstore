<html>
<body BGCOLOR=#FFFFFF>
<font size=7><b><i>
<center>January 1999 Von Ruden Review Storage Management Status Report</center>
</i></b></font>
<br><p>
<center>$Revision$</center>
<br><p>
<center>$Date$</center>
<br><p>

<center>Jon Bakken</center>
<center>Eileen Berman</center>
<center>Chih-Hao Huang</center>
<center>Alexander Moibenko</center>
<center>Don Petravick</center>
<center>Ron Rechenmacher</center>
<center>Kurt Ruthmansdorfer</center>
<p><br>
<p><br>
Enstore provides a generic interface for experimenters to
efficiently use mass storage systems as easily as if they were native file
systems.
<p>
<center><img src="enstore_at_fnal2.gif"></center>
<p><br>

Since the June 1998 Von Ruden Review, progress has been made on many
fronts. Here is a short summary of the effort during the last 6 months.

<ul>
  <li> Requirements understood - many discussions with D0 folks, and SAM group in particular

  <li>Technical Design Document - expanded greatly, includes examples and
       command syntax.

   <li> <em>Encp</em>
	<ul>
	  <li> User client program - Distributed via Fermilab's UPD mechanism
	  <li> Completely static, binary task with no dependencies
	  <li> Same syntax as normal Unix cp command, including input file list and output directory specification
	  <li> Special D0 SAM output completed.
	  <li> Option added that lists what transfers are active and pending for a given node.
	  <li> Optimal transversal over tape.
	</ul>

   <li><em>Pnfs</em>
 	<ul>
	  <li> The pnfs servers have been installed and thoroughly tested on 3 Linux machines.
	  <li> A user query oriented script has been written.
	  <li> The servers can be installed via Fermilab's UPD mechanism.
	  <li> A directory tree based on volumes and file families has been added to aid the users in doing optimal tape transversals.
	</ul>

   <li> Error Control, Robustness and Retries - extensively studied and developed in all sections of Enstore.
	<ul>
	  <li> Trace debugging tool (based on VME work) written for python - solved many problems
	  <li> Timer task written and available for scheduling
	</ul>

   <li> Enstore Servers
	<ul>
	  <li> Underlying communication protocol very reliable.
	  <li> Config Server - is now the sole location of all Enstore configuration information allowing easy maintenance.
	  <li> Volume and File Clerks - more robust, disaster recovery procedures almost in place.
	  <li> Library Manager - Priority, aging, optimal tape transversal
	  <li> Mover - optimal and overlapped IO, flexible user  wrappering mechanism in place, CRC studies complete (adler32)
	  <li> Log Server  - little work done, useful as is.
          <li> Media Changer - converted to C module, CDF STK code incorporated, EMASS module almost written
	       EMASS training attended by 3 of Enstore group.
	  <li> Inquisitor and Alarms - new since last review, central location for user to see what is happening with system,
	       many useful web pages, plots, patrol investigations begun.
	</ul>

   <li> Volume Import and Export - plan for remote sites understood (not done).
	
   <li> Test System - 10 Linux node cluster constructed, installed into FNAL and RIP networks, Tests working, SAM integration begun.
	<p>
	<center><img src="test-network.gif"></center>
	<p>
	<div align=right><a href="test-network.ps">(also available in Postscript)</a><div align=left>
	<p>
	<p>
	<p>
	<b><center>Preliminary Rates Measurements</center></b>
	<center><table cols=5 width="50%">
	<tr>
	<td> Tape Drive
	<td> Writing
	<td> Reading
	<td> Network
	<td> "Memory->tape"
	<tr>
	<td> &nbsp;
	<td> (MB/S)
	<td> (MB/S)
	<td> (Mbits/S)
	<td> (MB/S)
	<tr>
	<td> AIT
	<td> 2.7
	<td> 2.7
	<td> 94
	<td> 2.7
	<tr>
	<td> Mammoth
	<td> 2.8
	<td> 2.7
	<td> 94
	<td> 2.8
	<tr>
	<td> DLT
	<td> 4.9
	<td> 4.8
	<td> 94
	<td> 4.9
	<tr>
	<td> STK
	<td> 8.8*
	<td> 7.5*
	<td> 83
	<td> 9.8
	</table></center>
	<i><center>* == STK tests not repeated (yet) after coding changes that improved performance</center></i>
<p>
	Typical CPU usage, per transfer, for the AITs, Mammoths, and DLTS is 5-10% on a client node 10-20% on the mover nodes.
</ul>

For further details, please consult the Technical Design Document at
http://www-hppc.fnal.gov/enstore/index.html
<p>
<br>
<p>
Questions can be sent to the Enstore mailing list at <a href="mailto:enstore@fnal.gov">enstore@fnal.gov</a>.

</body></html>