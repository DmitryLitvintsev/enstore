
                          Enstore Configuration Keys
     _________________________________________________________________


Common Keys (for all servers)

  All mandatory common keys must be defined in all servers and movers
  configurations

   Key Description Presence Default
   host server host name Mandatory None
   hostip server host IP address Mandatory None
   port server port number Mandatory None
   logname server name in the log Mandatory None
   inq_ignore if present the inquisitor will not monitor corresponding server
   Optional None
   norestart  if  present inq will not restart corresponding server/mover
   Optional None
   noupdown 'enstore system' process will not look at the corresponding server
   when generating the SAAG page, and will not use the information in deciding
   to turn the ball red Optional None

Library Manager Keys

   Key Description Presence Default
   lock if specified LM will start in this state. Allowed values:locked,
   unlocked, ignore, pause, nowrite, noread Optional unlocked
   max_suspect_movers if number of suspect movers on which a given volume
   failed >= of max_suspect_movers, this volume will be set to NOACCESS state
   Optional 3
   suspect_volume_expiration_time remove entry from suspect volume list after
   this period of time Optional None
   min_file_size minimal file size Optional 0
   max_file_size maximal size of the file allowed by this library Optional
   2GB-2kB
   blank_error_increment do not set volume to NOACCESS in case of FTT_EBLANK
   error until the number of erros exceeds
   max_suspect_movers+blank_error_increment Optional 5
   legal_encp_version minimal encp version number allowed to acess enstore
   Optional None
   CleanTapeVolumeFamily volume family for cleaning tapes Optional None
   storage_group_limits Minimal amount of drives that can be used by a certain
   storage group (fair share) when different storage groups compete for tape
   drives Optional None

Mover Keys

   Key Description Presence Default
   do_eject eject tape on dismount Optional 'yes'
   do_cleaning clean tape drive by the mover request Optional 'yes'
   mc_device media changer device as declared in the robot Mandatory None
   min_buffer minimal amount of memory to allocate for buffering when
   transferring data Optional 8MB
   max_buffer maximal amount of memory to allocate for buffering (recommended
   not less than 1GB Optional 64MB
   max_rate maximum sustained transfer rate for writes. Used to calculate
   optimal  buffer size. Recommended to set to the max. rate of the drive
   Optional 11.2MB
   device pathname to the UNIX tape device Mandatory None
   dismount_delay delayed dismount value to use when none specified by the
   client. Set to negative value to get "infinite" dismount delay Optional 60s
   mount_delay number of seconds to wait after media changer mount completes,
   before trying to open device. Default is 15 for FTT driver, 0 for NULL
   driver Optional 15s
   max_dismount_delay maximal dismount delay that can be set for this mover
   Optional 600s
   library library(ies) that this mover serve Mandatory None
   driver low lewel media driver ('FTTDriver' for tape, 'NullDriver' for null
   mover) Mandatory None
   max_consecutive_failures number of any consecutive errors after which the
   mover goes OFFLINE Optional 2
   max_failures  Mover will go OFFLINE if this many transfers fail within
   failure_interval (see below) Optional 3
   failure_interval Interval for above Optional 3600s
   send_stats send tape drive statistics to the drivestat Data Base (defaul
   value 1, which means "send") Optional 1
   type specifies the type of mover ('','Mover','DiskMover') Optional ""
   media_type media type used for the mover. Recommended to set to the type of
   the media Optional "8MM"
   log_state if set log the state of the mover processes. Used for debugging
   Optional None
   syslog_entry expression to match in the syslog for the low level failure
   diagnostics Optional None
   restart_on_error restart mover if it went to the ERROR state. Default - do
   not restart Optional None
   connect_timeout TimeOut for mover connection to encp Optional 15s
   connect_retries number of connection retries to encp Optional 4
   update_interval interval for the mover to ask LM for the work. Recommended
   value 5 s) Optional 15
   single_filemark if not 0 write single file mark (Default value - 0 - write 2
   filemarks) Optional 0
   check_written_file if greater than 0, then randomly check files written
   using this number as the mean (default value:0 - don't check) Optional 0
   check_first_written_file Reread and check CRC on a first write after a tape
   mount Optional 0
   max_time_in_state maximal time for a mover to be in any transfer state
   (other than IDLE or ACTIVE) Optional 600s
   max_in_state_cnt  if this counter expires Mover errors out with "Mover
   stuck..." message. Optional 3
   statistics_path path to the statistics file(default - None) Optional None
   compression 0 means no compression. Everything else means use the drive
   compression (default: None - use the drive compression). Set this key to
   0!!! Optional None
   get_remaining_from_stats get remaining bytes info from drive Optional None
   blank_error_increment Sometimes ftt returns FTT_EBLANK for not blank tapes.
   To allow a tape to be in a pool and not to go to NOACCESS. Optional 5

Media Changer Keys

  Some media changer keys are specific for different types of robotic libraries

   Key Description Presence Default
   type type of the media changer (currently RDD_MediaLoader - for null movers,
   STK_MediaLoader, AML2_MediaLoader, Manual_MediaLoader) Mandatory None
   acls_host host name of STK robot control machine (specific for STK Library)
   Mandatory None
   acls_uname user name to access STK robot control program (specific for STK
   Library) Mandatory None
   RobotArm  robot  arm in AML2 robot (specific for AML2 robotic library)
   Mandatory None
   IdleTimeHome home robot arm if it is idle and not in a home position after
   this period of time has expired (default 5 min, specific for AML2 robotic
   library) Mandatory None
   IOBoxMedia  specifies  types  of  media  and  addresses  of IO box for
   importing/exporting tapes into the robot (specific for AML2 robotic library)
   Mandatory None
   DriveCleanTime if present, specifes the type of media, time until cleaning
   tape gets dismounted and number of cleaning cycles to clean a tape drive
   Mandatory None
   DriveCleanTime if present, specifes the maximal number of simultaneous
   requests to robot.
   Optional 7

Volume Clerk Keys

   Key Description Presence Default
   max_noaccess_cnt if number of volumes consecutively set to NOACCES reaches
   this number, the corresponding library will be paused Optional 2

File Clerk Keys

   Key                       Description                      Presence Default
   brand brand for bit file id to distinguish between systems Optional ""

Info Server Keys

    Key        Description      Presence Default
   dbhost enstore database host
   dbhost enstore database port
   dbname enstore data base name

Database Keys

    Key               Description             Presence  Default
   db_dir  enstore database directory         Mandatory None
   jou_dir enstore database journal directory Mandatory None
   db_host enstore database host              Mandatory None
   dbname  enstore database name              Mandatory None
   db_port enstore database port              Mandatory None

Accounting Server Keys

    Key             Description             Presence  Default
   dbhost accounting data base host machine Mandatory None
   dbport accounting database port          Mandatory None
   dbname accounting data base name         Mandatory None

Drivestat Server Keys

    Key         Description        Presence  Default
   dbhost drivestat database host  Mandatory None
   dbport drivestat database port  Mandatory None
   dbname drivestat data base name Mandatory None

Inquisitor Keys

   Key Description Presence Default
   alive_rcv_timeout amount of time to wait when doing a tcp transfer Mandatory
   None
   alive_retries number of times to retry a failed tcp transfer Mandatory None
   default_alive_interval number of seconds expected between alive messages
   from the event_relay Mandatory None
   default_hung_interval number of seconds after which if no alive message is
   received, the server is marked as dead Mandatory None
   html_file directory location of the html web area Mandatory None
   http_log_file_path path to log files in the as used in a url Mandatory None
   max_encp_lines maximum number of encps reported on the encp history page
   Mandatory None
   node_write_check set an alarm if there are writes in the library manager
   queue (from these nodes) and there are no active transfers from the nodes
   Mandatory None
   refresh automatic refresh rate for the web pages Mandatory None
   user_log_dirs dictionary specifying additional links that should be added to
   the log file web page under user log dirs Mandatory None
   www_host url description of the web host Mandatory None

Alarm Server Keys

   Key Description Presence Default
   alarm_actions dictionary describing actions to be taken when the specified
   alarms are received. the format is as follows - [severity_string:[[action1,
   action_parameters, action_parameters], ...], ...}.supported actions are -
   send email; params = [action_name, 1|*, optional_params...]; if 1, only send
   mail the first time the alarm is seen, * - always send mail when get this
   alarm or add the alarm to the web page only Mandatory None

Log Server Keys

      Key                       Description                   Presence  Default
  log_file_path patt to the log files directory               Mandatory None
  msg_type_logs log extractions based on the log type pattern Optional  None

Log Server Keys

      Key                       Description                   Presence  Default
  log_file_path patt to the log files directory               Mandatory None
  msg_type_logs log extractions based on the log type pattern Optional  None

System Keys

   Key Description Presence Default
   allowed_down dictionary defining how many times a server is allowed down
   before it is marked with a red ball by the 'enstore system' command. each
   server has a list associated with it that has the followinw format - [number
   of  consecutive times when checked and no alive message rcvd, timeout]
   Mandatory None

   Last modified: Wed Apr 4 13:56:59 CDT 2007
