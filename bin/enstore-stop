#!/bin/sh

if [ "${1:-}" = "-x" ] ; then set -xv; shift; fi
set -u  # force better programming and ability to use check for not set

. $ENSTORE_DIR/etc/defaults

turnoff() { for pid in $1; do
                if [ "$pid" = "$1" ] ; then echo "No $2 running"; break; fi
                pidkill $pid
            done; }

turnoff "$enstore_db/`uname -n`-db_*_pids"            "databases"
turnoff "$enstore_db/`uname -n`-admin*pids"           "admin"
turnoff "$enstore_db/`uname -n`-file_clerk*pids"      "file_clerk"
turnoff "$enstore_db/`uname -n`-volume_clerk*pids"    "volume_clerk"
turnoff "$enstore_db/`uname -n`-mover*pids"           "movers"
turnoff "$enstore_db/`uname -n`-media_changer*pids"   "media_changers"
turnoff "$enstore_db/`uname -n`-library_manager*pids" "library manager"
turnoff "$enstore_db/`uname -n`-configuration*pids"   "configuration server"
turnoff "$enstore_db/`uname -n`-log_server*pids"      "log server"
turnoff "$enstore_db/`uname -n`-*pids"                "what else"




#for pid in $enstore_db/`uname -n`-*_pids; do
#    if [ "$pid" = "$enstore_db/`uname -n`-*_pids" ] ; then break; fi
#    pidkill $pid
#done
exit
