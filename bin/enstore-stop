#!/bin/sh

if [ "${1:-}" = "-x" ] ; then set -xv; shift; fi
set -u  # force better programming and ability to use check for not set

#
# TOO MANY TASSK TRY TO KILL THEM ALL.

# THIS IS NO GOOD AND NEEDS TO BE CHANGED!

# THIS DOESN'T WORK ALL THE TIME

if [ `uname` = Linux ] ; then
   ps | while read pid tty stat time command rest ; do \
        if [ "$rest" = longtest ]  ; then kill $pid ; fi ; done

   ps | while read pid tty stat time command rest ; do \
        if [ $command = python ]  ; then kill $pid ; fi ; done
fi

if [ `uname` = IRIX ] ; then

   ps | while read pid tty time command rest ; do \
        if [ $command = python ]  ; then kill $pid ; fi ; done

   ps | while read pid tty time command rest ; do \
        if [ $command = longtest ]  ; then kill $pid ; fi ; done
fi
